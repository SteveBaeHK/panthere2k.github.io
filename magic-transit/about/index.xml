<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>About on Security365 Docs</title><link>https://panthere2k.github.io/magic-transit/about/</link><description>Recent content in About on Security365 Docs</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://panthere2k.github.io/magic-transit/about/index.xml" rel="self" type="application/rss+xml"/><item><title>Bandwidth measurement</title><link>https://panthere2k.github.io/magic-transit/about/bandwidth-measurement/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-transit/about/bandwidth-measurement/</guid><description>Bandwidth measurementCloudflare measures Magic Transit usage based on the 95th percentile of clean bandwidth for your network. &amp;ldquo;Clean bandwidth&amp;rdquo; refers to the egress traffic routed to your network after all DDoS mitigation and firewall functions are applied. The usage measurement explicitly excludes attack traffic blocked at Cloudflare&amp;rsquo;s edge.
To measure 95th percentile bandwidth, Cloudflare records clean bandwidth leaving our edge at five minute intervals, sorts these measurements in descending order, and discards the top 5% of recorded measurements.</description></item><item><title>Health checks</title><link>https://panthere2k.github.io/magic-transit/about/health-checks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-transit/about/health-checks/</guid><description>Health checksMagic Transit and Magic WAN health checks monitor network status and the health of specific network components. To monitor the health of a specific route, each Cloudflare edge server associated with your network sends a multicast &amp;ldquo;heartbeat&amp;rdquo; every few seconds to construct a list of live, peer IP addresses. This approach utilizes consistent hashing, and as a result, Magic Transit and Magic WAN can consistently assign tunnels to servers in a way that is resilient to server failures and does not require extra coordination between servers beyond heartbeats.</description></item><item><title>Probe construction</title><link>https://panthere2k.github.io/magic-transit/about/probe-construction/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-transit/about/probe-construction/</guid><description>Probe constructionA tunnel health check probe contains an ICMP (Internet Control Message Protocol) External link icon Open external link reply packet that originates from an IP address on the origin side of the tunnel and whose destination address is a public Cloudflare IP.
Cloudflare encapsulates the ICMP reply packet and sends the probe across the tunnel to the origin. When the probe reaches the origin router, the router decapsulates the ICMP reply and forwards it to the specified destination IP.</description></item><item><title>Traffic steering</title><link>https://panthere2k.github.io/magic-transit/about/traffic-steering/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-transit/about/traffic-steering/</guid><description>Traffic steeringMagic Transit uses a static configuration to route traffic through Generic Routing Encapsulation (GRE) tunnels from Cloudflare’s edge to your data center.
Magic Transit steers traffic along tunnel routes based on priorities you define during the onboarding process.
The example in this diagram has three tunnel routes. Tunnels 1 and 2 have top priority and Tunnel 3 is secondary.
When there are multiple routes with equal priority and different next-hops, Cloudflare uses equal-cost multi-path (ECMP) routing.</description></item><item><title>Tunnels &amp; encapsulation</title><link>https://panthere2k.github.io/magic-transit/about/tunnels-and-encapsulation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-transit/about/tunnels-and-encapsulation/</guid><description>Tunnels &amp;amp; encapsulationMagic Transit uses Generic Routing Encapsulation (GRE) External link icon Open external link and IPsec tunnels External link icon Open external link to transmit packets from Cloudflare’s edge to your origin network. Cloudflare sets up tunnel endpoints on edge servers inside your network namespace, and you set up tunnel endpoints on routers at your data center.
This diagram illustrates the flow of traffic with Magic Transit.
NoteEgress packets are routed by your ISP interface, not Cloudflare.</description></item></channel></rss>
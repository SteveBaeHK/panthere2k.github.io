<!doctype html><html lang=en theme=light is-docs-page js-focus-visible-polyfill-available><head><meta charset=utf-8><title>Configure your mobile app or IoT device · Cloudflare SSL/TLS docs</title><meta http-equiv=cleartype content="on"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=application-name content="Configure your mobile app or IoT device · Cloudflare SSL/TLS docs"><meta name=msapplication-tap-highlight content="no"><meta name=apple-mobile-web-app-title content="Configure your mobile app or IoT device · Cloudflare SSL/TLS docs"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=apple-mobile-web-app-capable content="yes"><meta name=mobile-web-app-capable content="yes"><meta name=theme-color content="#f38020"><meta name=description content="Cloudflare wants to encrypt as much web traffic as possible to prevent data theft and other tampering. We are the first Internet performance and security company to offer free SSL/TLS protection."><meta property="og:image" content="https://panthere2k.github.io/core-services-preview.png"><meta property="og:title" content="Configure your mobile app or IoT device · Cloudflare SSL/TLS docs"><meta property="og:description" content="Cloudflare wants to encrypt as much web traffic as possible to prevent data theft and other tampering. We are the first Internet performance and security company to offer free SSL/TLS protection."><meta property="og:type" content="website"><meta name=twitter:title content="Configure your mobile app or IoT device · Cloudflare SSL/TLS docs"><meta name=twitter:image content="https://panthere2k.github.io/core-services-preview.png"><meta name=twitter:description content="Cloudflare wants to encrypt as much web traffic as possible to prevent data theft and other tampering. We are the first Internet performance and security company to offer free SSL/TLS protection."><meta name=twitter:creator content="@cloudflare"><meta name=twitter:card content="summary_large_image"><meta name=pcx_content_type content="tutorial"><link rel=icon href=/favicon-32x32.png><link rel=canonical href=https://panthere2k.github.io/ssl/client-certificates/configure-your-mobile-app-or-iot-device/><link rel=sitemap href=/sitemap.xml type=application/xml><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon sizes=48x48 href=/icons/icon-48x48.png><link rel=apple-touch-icon sizes=72x72 href=/icons/icon-72x72.png><link rel=apple-touch-icon sizes=96x96 href=/icons/icon-96x96.png><link rel=apple-touch-icon sizes=144x144 href=/icons/icon-144x144.png><link rel=apple-touch-icon sizes=192x192 href=/icons/icon-192x192.png><link rel=apple-touch-icon sizes=256x256 href=/icons/icon-256x256.png><link rel=apple-touch-icon sizes=384x384 href=/icons/icon-384x384.png><link rel=apple-touch-icon sizes=512x512 href=/icons/icon-512x512.png><script src=/search.redirect.min.6828ce878577fe91120d67814d68c0d8.js defer></script><link rel="stylesheet preconnect" href=/style.css><script>(function(){let s=!1,e,n;document.readyState!=="loading"?o():addEventListener("DOMContentLoaded",o),e=document.querySelector("#ThemeToggle"),s=!e;function t(n){try{let o=n?"dark":"light";document.documentElement.setAttribute("theme",o),localStorage.theme=JSON.stringify({theme:o}),e?(e.checked=n,s=!1):s&&setTimeout(t,1,n)}catch{}}function o(){e=e||document.querySelector("#ThemeToggle"),e.addEventListener("change",()=>t(!!e.checked)),addEventListener("keydown",n=>{n.target===document.body&&n.which===68&&n.shiftKey&&(n.preventDefault(),t(!e.checked))})}try{n=window.matchMedia("(prefers-color-scheme:dark)"),n.onchange=e=>t(e.matches)}catch{}try{let e=localStorage.theme,s=e&&JSON.parse(e);t(s?/dark/.test(s.theme):!!(n&&n.matches))}catch{}})()</script><script src=/main.min.c2a5e976c412695a3d9389cba84aa5bd.js defer></script>
<script data-source=docs defer src=https://feedback.developers.cloudflare.com/sdk.js></script>
<link rel=preload href=https://feedback.developers.cloudflare.com/sdk.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://feedback.developers.cloudflare.com/sdk.css></noscript></head><body><div class=DocsPage><div><a class=skip-link href=#main>Skip to content</a></div><div class=DocsMobileHeader><a class="DocsMobileHeader--cloudflare-logo-link Link Link-without-underline" href=/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsMobileTitleHeader><a aria-current=page class="DocsMobileTitleHeader--logo-link Link Link-without-underline" href=/ssl/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><span title="Cloudflare SSL/TLS logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M23.437 11.88H12.03v3h11.407v-3z"/><path d="M43.5 24.383A9.112 9.112.0 0036 15.428V7.32l-1.5-1.5H7.35l-1.5 1.5v32.955l1.5 1.5h19.5V43.5l2.602 1.02 4.898-5.295 4.897 5.295 2.625-1.02V29.543a9.052 9.052.0 001.628-5.16zm-3 0a6.113 6.113.0 11-6.113-6.113 6.12 6.12.0 016.113 6.113zM8.85 38.775V8.82H33v6.57A9.105 9.105.0 0027.885 18h-15.81v3H25.92a9.075 9.075.0 00-.638 3H12.075v3H25.65c.272.91.684 1.774 1.222 2.558v9.217H8.85zM35.467 36l-1.095-1.185L33.277 36l-3.405 3.675v-7.38a9.037 9.037.0 009 0v7.372L35.467 36z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:7>SSL/TLS</span></span></div></a><button class="Button DocsMobileTitleHeader--sidebar-toggle-button">
<span class=DocsMobileTitleHeader--sidebar-toggle-button-icon aria-hidden=true><svg viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" role="img" aria-labelledby="title-1332672649688018" xmlns="http://www.w3.org/2000/svg"><title id="title-1332672649688018">Navigation menu icon</title><path data-index="1" d="M5 7h10" transform-origin="10 7"/><path data-index="2" d="M5 10h10" transform-origin="10 10"/><path data-index="3" d="M5 13h10" transform-origin="10 13"/></svg><span is-visually-hidden>Open external link</span></span></button></div><div class=DocsMobileNavBackdrop></div><div class=DocsSidebar><div class=DocsSidebar--sections><div class="DocsSidebar--section DocsSidebar--header-section"><a class="DocsSidebar--cloudflare-logo-link DocsSidebar--link" href=/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsSidebar--section-separator></div><div class="DocsSidebar--section DocsSidebar--docs-title-section"><a aria-current=page class="DocsSidebar--docs-title-logo-link DocsSidebar--link" href=/ssl/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><span title="Cloudflare SSL/TLS logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M23.437 11.88H12.03v3h11.407v-3z"/><path d="M43.5 24.383A9.112 9.112.0 0036 15.428V7.32l-1.5-1.5H7.35l-1.5 1.5v32.955l1.5 1.5h19.5V43.5l2.602 1.02 4.898-5.295 4.897 5.295 2.625-1.02V29.543a9.052 9.052.0 001.628-5.16zm-3 0a6.113 6.113.0 11-6.113-6.113 6.12 6.12.0 016.113 6.113zM8.85 38.775V8.82H33v6.57A9.105 9.105.0 0027.885 18h-15.81v3H25.92a9.075 9.075.0 00-.638 3H12.075v3H25.65c.272.91.684 1.774 1.222 2.558v9.217H8.85zM35.467 36l-1.095-1.185L33.277 36l-3.405 3.675v-7.38a9.037 9.037.0 009 0v7.372L35.467 36z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:7>SSL/TLS</span></span></div></a><div class="DocsSidebar--section-more Dropdown" data-expanded=false><button class="DocsSidebar--section-more-button Button" aria-expanded=false><div class=DocsSidebar--section-more-button-icon><svg viewBox="0 0 4 16" stroke="currentcolor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" fill="currentcolor" role="img" aria-labelledby="title-6032186738345315" xmlns="http://www.w3.org/2000/svg"><title id="title-6032186738345315">Dropdown icon</title><path d="M2 2v0m0 6v0m0 6v0z"/></svg><span is-visually-hidden>SSL/TLS menu</span></div></button><div class="DocsSidebar--section-more-dropdown Dropdown--dropdown"><ul class=Dropdown--list><li class=Dropdown--item><a class=Dropdown--link href=https://cloudflare.com tabindex=-1>Cloudflare homepage</a></li></ul></div></div></div><div class="DocsSidebar--section DocsSidebar--nav-section" style=position:relative;overflow:hidden;width:100%;height:100%><div style=position:absolute;inset:0;overflow-y:auto;margin-right:0;margin-bottom:0><div class=DocsSidebar--nav-section-shadow style=opacity:0></div><ul class=DocsSidebar--nav><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Overview</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/get-started/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Get started</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Edge certificates</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Edge certificates</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Universal SSL</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/universal-ssl/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Universal SSL</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/universal-ssl/enable-universal-ssl/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Enable Universal SSL certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/universal-ssl/disable-universal-ssl/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Disable Universal SSL certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/universal-ssl/limitations/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Limitations</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/universal-ssl/troubleshooting/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Troubleshooting</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Advanced certificates</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/advanced-certificate-manager/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Advanced certificates</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/advanced-certificate-manager/manage-certificates/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Manage advanced certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/advanced-certificate-manager/api-commands/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>API commands</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Custom certificates</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/custom-certificates/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Custom certificates</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/custom-certificates/uploading/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Manage custom certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/custom-certificates/renewing/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Renewing</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/custom-certificates/bundling-methodologies/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Bundle methodologies</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/custom-certificates/caa-records/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Add CAA records</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/custom-certificates/remove-file-key-password/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Remove key file password</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/encrypt-visitor-traffic/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Enforce HTTPS connections</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Domain Control Validation (DCV)</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/changing-dcv-method/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Domain Control Validation (DCV)</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Methods</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/changing-dcv-method/methods/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Methods</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=3 style=--depth:3><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/changing-dcv-method/methods/txt/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>TXT</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/changing-dcv-method/methods/email/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Email</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/changing-dcv-method/methods/http/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>HTTP</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/changing-dcv-method/troubleshooting/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Troubleshooting</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/staging-environment/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Staging environment (Beta)</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/backup-certificates/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Backup certificates</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Additional options</span>
</button><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Additional options</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/certificate-transparency-monitoring/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Certificate Transparency Monitoring</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/http-strict-transport-security/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>HTTP Strict Transport Security (HSTS)</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/certificate-signing-requests/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Certificate Signing Requests (CSRs)</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/tls-13/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>TLS 1.3</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/minimum-tls/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Minimum TLS Version</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/automatic-https-rewrites/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Automatic HTTPS Rewrites</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/total-tls/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Total TLS</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/always-use-https/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Always Use HTTPS</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/edge-certificates/additional-options/opportunistic-encryption/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Opportunistic Encryption</span></a></li></ul></div></div></div></div></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item is-active-root is-expanded><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Client certificates</span>
</button><a class=DocsSidebar--nav-link href=/ssl/client-certificates/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Client certificates</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-expanded" style=min-height:0;transition-duration:400ms is-expanded><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/client-certificates/create-a-client-certificate/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Create a client certificate</span></a></li><li class=DocsSidebar--nav-item is-active><a aria-current=page class=DocsSidebar--nav-link href=/ssl/client-certificates/configure-your-mobile-app-or-iot-device/ is-active><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configure your mobile app or IoT device</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/client-certificates/enable-mtls/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Enable mTLS</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/client-certificates/revoke-client-certificate/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Revoke a client certificate</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/client-certificates/troubleshooting/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Troubleshooting</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Keyless SSL</span>
</button><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Keyless SSL</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/configuration/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Get started</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Hardware security modules</span>
</button><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Hardware security modules</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/configuration/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configuration</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/aws-cloud-hsm/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>AWS cloud HSM</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/azure-dedicated-hsm/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Azure Dedicated HSM</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/azure-managed-hsm/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Azure Managed HSM</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/softhsmv2/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>SoftHSMv2</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/entrust-nshield-connect/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Entrust nShield Connect</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/ibm-cloud-hsm/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>IBM cloud HSM</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/hardware-security-modules/google-cloud-hsm/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Google Cloud HSM</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/upgrading-your-key-server/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Upgrade your key server</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Reference</span>
</button><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/reference/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/reference/high-availability/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>High availability</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/reference/scaling-and-benchmarking/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Scaling and benchmarking</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/reference/keyless-delegation/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Keyless delegation</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/keyless-ssl/troubleshooting/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Troubleshooting</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/mutual-authentication/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Mutual authentication</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Origin server</span>
</button><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Origin server</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Encryption modes</span>
</button><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-modes/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Encryption modes</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-modes/off/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Off (no encryption)</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-modes/flexible/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Flexible</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-modes/full/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Full</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-modes/full-strict/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Full (strict)</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-modes/ssl-only-origin-pull/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Strict (SSL-Only Origin Pull)</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/cipher-suites/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cipher suites</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/origin-ca/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Origin CA certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/ssl-tls-recommender/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>SSL/TLS Recommender</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Authenticated origin pull</span>
</button><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/authenticated-origin-pull/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Authenticated origin pull</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/authenticated-origin-pull/explanation/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>How authenticated origin pulls work</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/authenticated-origin-pull/set-up/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Set up authenticated origin pulls</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/origin-configuration/custom-origin-trust-store/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Custom origin trust store</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/cloudflare-for-platforms/cloudflare-for-saas/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>SSL for SaaS</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Reference</span>
</button><a class=DocsSidebar--nav-link href=/ssl/reference/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Cipher suites</span>
</button><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cipher suites</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/recommendations/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Recommendations</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/supported-cipher-suites/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Supported cipher suites</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/customize-cipher-suites/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Customize cipher suites</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/compliance-status/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Compliance status</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/custom-certificates/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Custom certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/matching-on-origin/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Match on origin</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/cipher-suites/troubleshooting/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Troubleshooting</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/protocols/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>TLS protocols</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/certificate-and-hostname-priority/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Certificate and hostname priority</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/certificate-authorities/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Certificate authorities</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/browser-compatibility/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Browser compatibility</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Migration guides</span>
</button><a class=DocsSidebar--nav-link href=/ssl/reference/migration-guides/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Migration guides</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/migration-guides/dcv-update/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Changes to HTTP DCV</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: DigiCert update</span>
</button><a class=DocsSidebar--nav-link href=/ssl/reference/migration-guides/digicert-update/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>DigiCert update</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=3 style=--depth:3><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/migration-guides/digicert-update/universal-certificates/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Universal certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/migration-guides/digicert-update/advanced-certificates/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Advanced certificates</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/migration-guides/digicert-update/custom-hostname-certificates/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Custom hostnames</span></a></li></ul></div></div></div></div></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/certificate-pinning/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Certificate pinning</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/certificate-statuses/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Certificate statuses</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/validation-backoff-schedule/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Validation backoff schedule</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/reference/certificate-validity-periods/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Validity periods</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Troubleshooting</span>
</button><a class=DocsSidebar--nav-link href=/ssl/troubleshooting/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Troubleshooting</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/troubleshooting/version-cipher-mismatch/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>ERR_SSL_VERSION_OR_CIPHER_MISMATCH</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/ssl/troubleshooting/too-many-redirects/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>ERR_TOO_MANY_REDIRECTS</span></a></li></ul></div></div></div></div></li></ul></div><div style=position:absolute;height:6px;display:none;right:2px;bottom:2px;left:2px;border-radius:3px><div style=position:relative;display:block;height:100%;cursor:pointer;border-radius:inherit;background-color:rgba(0,0,0,.2)></div></div><div style=position:absolute;width:6px;display:none class="Scrollbars--track Scrollbars--track-vertical"><div style=position:relative;display:block;width:100% class="Scrollbars--thumb Scrollbars--thumb-vertical"></div></div></div><div class=toggleSidebar><button id=toggleSidebarButton style=width:2em;height:2em title="Click to collapse and expand the sidebar navigation"><svg id="toggleSidebarSVG" aria-hidden="true" height="1" width="1" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path id="toggleSidebarSVGPath" d="M15 2a1 1 0 00-1 1v10a1 1 0 002 0V3a1 1 0 00-1-1zm-10.407.993-4.3 4.3a1 1 0 000 1.414l4.3 4.3a1 1 0 001.415-1.416L3.417 9H10a1 1 0 100-2H3.417l2.591-2.591A1 1 0 104.593 2.993z"/></svg></button></div></div><div class=DocsSidebar--shadow></div></div><div class=DocsToolbar><div class=DocsToolbar--search><div class=DocsSearch><div class=DocsSearch--input-wrapper><input type=text id=DocsSearch--input class=DocsSearch--input spellcheck=false autocomplete=false placeholder="Search docs..."><div class=DocsSearch--input-icon><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-9701125841014673" xmlns="http://www.w3.org/2000/svg"><title id="title-9701125841014673">Search icon (depiction of a magnifying glass)</title><path d="M11.999 10.585l3.458 3.458a1 1 0 01-1.414 1.414L10.585 12a6.5 6.5.0 111.414-1.414zM6.75 11.5a4.75 4.75.0 100-9.5 4.75 4.75.0 000 9.5z"/></svg></div><button disabled class=slashPlaceholder title="Press '/' to focus on the search bar" aria-label="Forward slash keyboard shortcut" tabindex=-1 type=button><div style=margin-top:-1px>/</span></div></button></div></div></div><div class=DocsToolbar--tools><button data-feedback=true class="DocsToolbar--feedback Button Button-is-docs-secondary">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17"><path d="M14 2.5H2l-.5.5v11.165l.863.345 2.852-3.01H14l.5-.5V3l-.5-.5zm-.5 8H4.785L2.5 12.911V3.5h11v7z" fill="currentcolor"/><path d="M12.5 5.003h-9v1h9v-1zm0 2.497h-9v1h9v-1z" fill="currentcolor"/></svg>Give Feedback</button><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--tools-icon-item><div class=Tooltip---root><div class=DocsToolbar--tools-icon-item-content><a class="Link Link-without-underline" href=https://github.com/cloudflare/cloudflare-docs><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-6991762763429039" xmlns="http://www.w3.org/2000/svg"><title id="title-6991762763429039">GitHub icon</title><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z" fill-rule="evenodd"/></svg></a></div><span class=Tooltip role=tooltip position=bottom-end>Visit SSL/TLS on GitHub</span></div></div><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--theme-toggle><div class=Tooltip---root><div class=ThemeToggle><input type=checkbox id=ThemeToggle class=ThemeToggle--input>
<label class=ThemeToggle--toggle for=ThemeToggle><div class=ThemeToggle--toggle-handle></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--sun"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-8812071124069258" xmlns="http://www.w3.org/2000/svg"><title id="title-8812071124069258">Light theme icon (depiction of a sun)</title><path d="M7.5 11.465a3.482 3.482.0 01-1.596-.662L4.11 12.596a.5.5.0 01-.707-.707l1.793-1.793A3.482 3.482.0 014.535 8.5H2a.5.5.0 010-1h2.535a3.482 3.482.0 01.662-1.596L3.404 4.11a.5.5.0 01.707-.707l1.793 1.793A3.482 3.482.0 017.5 4.535V2a.5.5.0 011 0v2.535a3.482 3.482.0 011.596.662l1.793-1.793a.5.5.0 01.707.707l-1.793 1.793c.343.458.577 1.003.662 1.596H14a.5.5.0 110 1h-2.535a3.482 3.482.0 01-.662 1.596l1.793 1.793a.5.5.0 01-.707.707l-1.793-1.793a3.482 3.482.0 01-1.596.662V14a.5.5.0 11-1 0v-2.535z"/></svg></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--moon"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-5971296394189265" xmlns="http://www.w3.org/2000/svg"><title id="title-5971296394189265">Dark theme icon (depiction of a moon)</title><path d="M7.067 3.087a5 5 0 005.466 7.026A5 5 0 117.067 3.087z"/></svg></div></label><span class=Tooltip role=tooltip position=bottom-end>Set theme to dark (⇧+D)</span></div></div></div></div></div><main class=DocsBody><div class=DocsBody--sidebar with-styled-webkit-scrollbars><div class=DocsBody--sidebar-content-scroll-fade></div><div class=DocsBody--sidebar-content><ul class=DocsTableOfContents hidden><li><a class=DocsTableOfContents-link href=#docs-content>↑ Top</a></li></ul></nav></div></div><div id=docs-content data-reach-skip-nav-content></div><div class=DocsContent id=main page-type=document><article class=DocsMarkdown><h1 id=configure-your-mobile-app-or-iot-device>Configure your mobile app or IoT device</h1><p>This tutorial demonstrates how to configure your Internet-of-things (IoT) device and mobile application to use client certificates with <a href=/api-shield/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>API Shield™</span></a>.</p><h2 id=scenario-details><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#scenario-details>&#8203;​</a></span>
<span>Scenario details</span></h2><p>This walkthrough uses the example of a device that captures temperature readings and transmits them by sending a POST request to a Cloudflare-protected API. A mobile application built in Swift for iOS retrieves those readings and displays them.</p><p>To keep this example simple, the API is implemented as a Cloudflare Worker (borrowing code from the <a href=/workers/tutorials/build-a-jamstack-app/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>To-Do List tutorial on building a jamstack app</span></a>).</p><p>Temperatures are stored in <a href=/workers/learning/how-kv-works/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Workers KV</span></a> using the source IP address as a key, but you can easily use a <a href=/cloudflare-one/identity/devices/access-integrations/mutual-tls-authentication/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>value from the client certificate</span></a>, such as the fingerprint.</p><p>The example API code below saves a temperature and timestamp into KV when a POST is made and returns the most recent five temperatures when a GET request is made.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>defaultData</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>temperatures</span><span class=o>:</span> <span class=p>[]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>getCache</span> <span class=o>=</span> <span class=nx>key</span> <span class=p>=&gt;</span> <span class=nx>TEMPERATURES</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>setCache</span> <span class=o>=</span> <span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>TEMPERATURES</span><span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>addTemperature</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Pull previously recorded temperatures for this client.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>ip</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;CF-Connecting-IP&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cacheKey</span> <span class=o>=</span> <span class=sb>`data-</span><span class=si>${</span><span class=nx>ip</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>data</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cache</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getCache</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>cache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=nx>setCache</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>defaultData</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span> <span class=o>=</span> <span class=nx>defaultData</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>cache</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Append the recorded temperatures with the submitted reading (assuming it has both temperature and a timestamp).
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>body</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>request</span><span class=p>.</span><span class=nx>text</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>val</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>val</span><span class=p>.</span><span class=nx>temperature</span> <span class=o>&amp;&amp;</span> <span class=nx>val</span><span class=p>.</span><span class=nx>time</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>data</span><span class=p>.</span><span class=nx>temperatures</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=kr>await</span> <span class=nx>setCache</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>,</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=mi>201</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=s2>&#34;Unable to parse temperature and/or timestamp from JSON POST body&#34;</span><span class=p>,</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=mi>400</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=mi>500</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>compareTimestamps</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span> <span class=o>*</span> <span class=p>(</span><span class=nb>Date</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>a</span><span class=p>.</span><span class=nx>time</span><span class=p>)</span> <span class=o>-</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>b</span><span class=p>.</span><span class=nx>time</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Return the 5 most recent temperature measurements.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>getTemperatures</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>ip</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;CF-Connecting-IP&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cacheKey</span> <span class=o>=</span> <span class=sb>`data-</span><span class=si>${</span><span class=nx>ip</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>cache</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>getCache</span><span class=p>(</span><span class=nx>cacheKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>cache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>defaultData</span><span class=p>),</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span> <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;content-type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span> <span class=p>}</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>cache</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>retval</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>temperatures</span><span class=p>.</span><span class=nx>sort</span><span class=p>(</span><span class=nx>compareTimestamps</span><span class=p>).</span><span class=nx>splice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>5</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nx>Response</span><span class=p>(</span><span class=nx>retval</span><span class=p>,</span> <span class=p>{</span> <span class=nx>status</span><span class=o>:</span> <span class=mi>200</span><span class=p>,</span> <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span> <span class=s1>&#39;content-type&#39;</span><span class=o>:</span> <span class=s1>&#39;application/json&#39;</span> <span class=p>}</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>handleRequest</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>request</span><span class=p>.</span><span class=nx>method</span> <span class=o>===</span> <span class=s1>&#39;POST&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>addTemperature</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>getTemperatures</span><span class=p>(</span><span class=nx>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;fetch&#39;</span><span class=p>,</span> <span class=nx>event</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>event</span><span class=p>.</span><span class=nx>respondWith</span><span class=p>(</span><span class=nx>handleRequest</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>request</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><hr><h2 id=step-1--validate-api><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#step-1--validate-api>&#8203;​</a></span>
<span>Step 1 — Validate API</span></h2><h3 id=post-sample-data-to-api><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#post-sample-data-to-api>&#8203;​</a></span>
<span>POST sample data to API</span></h3><p>To validate the API before adding mTLS authentication, POST a random temperature reading:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ <span class=nv>TEMPERATURE</span><span class=o>=</span><span class=k>$(</span><span class=nb>echo</span> <span class=k>$((</span><span class=m>361</span> <span class=o>+</span> RANDOM <span class=o>%</span><span class=m>11</span><span class=k>))</span> <span class=p>|</span> awk <span class=s1>&#39;{printf(&#34;%.2f&#34;,$1/10.0)}&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>$ <span class=nv>TIMESTAMP</span><span class=o>=</span><span class=k>$(</span>date -u +<span class=s2>&#34;%Y-%m-%dT%H:%M:%SZ&#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ <span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=nv>$TEMPERATURE</span><span class=s2>\n</span><span class=nv>$TIMESTAMP</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>36.70
</span></span><span class=line><span class=cl>2020-09-28T02:54:56Z
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ curl -v -H <span class=s2>&#34;Content-Type: application/json&#34;</span> -d <span class=s1>&#39;{&#34;temperature&#34;:&#39;&#39;&#39;</span><span class=nv>$TEMPERATURE</span><span class=s1>&#39;&#39;&#39;, &#34;time&#34;: &#34;&#39;&#39;&#39;</span><span class=nv>$TIMESTAMP</span><span class=s1>&#39;&#39;&#39;&#34;}&#39;</span> https://shield.upinatoms.com/temps 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>|</span> grep <span class=s2>&#34;&lt; HTTP/2&#34;</span>
</span></span><span class=line><span class=cl>&lt; HTTP/2 <span class=m>201</span>
</span></span></code></pre></div><h3 id=get-sample-data-from-api><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#get-sample-data-from-api>&#8203;​</a></span>
<span>GET sample data from API</span></h3><p>A GET request to the <code>temps</code> endpoint returns the most recent readings, including the one submitted in the example above:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>$</span> <span class=err>curl</span> <span class=err>-s</span> <span class=err>https:</span><span class=c1>//shield.upinatoms.com/temps | jq .
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;temperature&#34;</span><span class=p>:</span> <span class=mf>36.3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-09-28T02:57:49Z&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;temperature&#34;</span><span class=p>:</span> <span class=mf>36.7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-09-28T02:54:56Z&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;temperature&#34;</span><span class=p>:</span> <span class=mf>36.2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-09-28T02:33:08Z&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><hr><h2 id=step-2--create-cloudflare-issued-certificates><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#step-2--create-cloudflare-issued-certificates>&#8203;​</a></span>
<span>Step 2 — Create Cloudflare-issued certificates</span></h2><p>Before you can use API Shield to protect your API or web application, you must create Cloudflare-issued client certificates.</p><p>You can <a href=/ssl/client-certificates/create-a-client-certificate/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>create a client certificate in the Cloudflare dashboard</span></a>.</p><p>However, since most developers working at scale generate their own private keys and certificate signing requests via API, this example uses the Cloudflare API to create client certificates.</p><aside class=DocsMarkdown--aside role=note data-type=warning><div class=DocsMarkdown--aside-header>Important</div><p>You can only use API Shield with a certificate authority (CA) that is fully managed by Cloudflare. Cloudflare generates a unique CA for each zone.</p><p>If you need to use a different CA, contact a Cloudflare customer success manager.</p></aside><p>To create a bootstrap certificate for the iOS application and the IoT device, this example uses <a href=https://github.com/cloudflare/cfssl class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare’s public key infrastructure toolkit, CFSSL</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span>
</span></a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Generate a private key and CSR for the iOS device.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ cat <span class=s>&lt;&lt;&#39;EOF&#39; | tee -a csr.json
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>    &#34;hosts&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>        &#34;ios-bootstrap.devices.upinatoms.com&#34;
</span></span></span><span class=line><span class=cl><span class=s>    ],
</span></span></span><span class=line><span class=cl><span class=s>    &#34;CN&#34;: &#34;ios-bootstrap.devices.upinatoms.com&#34;,
</span></span></span><span class=line><span class=cl><span class=s>    &#34;key&#34;: {
</span></span></span><span class=line><span class=cl><span class=s>        &#34;algo&#34;: &#34;rsa&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;size&#34;: 2048
</span></span></span><span class=line><span class=cl><span class=s>    },
</span></span></span><span class=line><span class=cl><span class=s>    &#34;names&#34;: [{
</span></span></span><span class=line><span class=cl><span class=s>        &#34;C&#34;: &#34;US&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;L&#34;: &#34;Austin&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;O&#34;: &#34;Temperature Testers, Inc.&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;OU&#34;: &#34;Tech Operations&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;ST&#34;: &#34;Texas&#34;
</span></span></span><span class=line><span class=cl><span class=s>    }]
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ cfssl genkey csr.json <span class=p>|</span> cfssljson -bare certificate
</span></span><span class=line><span class=cl>2020/09/27 21:28:46 <span class=o>[</span>INFO<span class=o>]</span> generate received request
</span></span><span class=line><span class=cl>2020/09/27 21:28:46 <span class=o>[</span>INFO<span class=o>]</span> received CSR
</span></span><span class=line><span class=cl>2020/09/27 21:28:46 <span class=o>[</span>INFO<span class=o>]</span> generating key: rsa-2048
</span></span><span class=line><span class=cl>2020/09/27 21:28:47 <span class=o>[</span>INFO<span class=o>]</span> encoded CSR
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ mv certificate-key.pem ios-key.pem
</span></span><span class=line><span class=cl>$ mv certificate.csr ios.csr
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Do the same for the IoT sensor.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ sed -i.bak <span class=s1>&#39;s/ios-bootstrap/sensor-001/g&#39;</span> csr.json
</span></span><span class=line><span class=cl>$ cfssl genkey csr.json <span class=p>|</span> cfssljson -bare certificate
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>$ mv certificate-key.pem sensor-key.pem
</span></span><span class=line><span class=cl>$ mv certificate.csr sensor.csr
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// now ask that these CSRs be signed by the private CA issued <span class=k>for</span> your zone
</span></span><span class=line><span class=cl>// we need to replace actual newlines in the CSR with ‘<span class=se>\n</span>’ before POST’ing
</span></span><span class=line><span class=cl>$ <span class=nv>CSR</span><span class=o>=</span><span class=k>$(</span>cat ios.csr <span class=p>|</span> perl -pe <span class=s1>&#39;s/\n/\\n/g&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>$ <span class=nv>request_body</span><span class=o>=</span><span class=k>$(</span>&lt; &lt;<span class=o>(</span>cat <span class=s>&lt;&lt;EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;validity_days&#34;: 3650,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;csr&#34;:&#34;$CSR&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl><span class=k>)</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// save the response so we can view it and <span class=k>then</span> extra the certificate
</span></span><span class=line><span class=cl>$ curl -H <span class=s1>&#39;X-Auth-Email: YOUR_EMAIL&#39;</span> -H <span class=s1>&#39;X-Auth-Key: YOUR_API_KEY&#39;</span> -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d “<span class=nv>$request_body</span>” https://api.cloudflare.com/client/v4/zones/YOUR_ZONE_ID/client_certificates &gt; response.json
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ cat response.json <span class=p>|</span> jq .
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;success&#34;</span>: true,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;errors&#34;</span>: <span class=o>[]</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;messages&#34;</span>: <span class=o>[]</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;result&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;id&#34;</span>: <span class=s2>&#34;7bf7f70c-7600-42e1-81c4-e4c0da9aa515&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;certificate_authority&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;id&#34;</span>: <span class=s2>&#34;8f5606d9-5133-4e53-b062-a2e5da51be5e&#34;</span>,
</span></span><span class=line><span class=cl>      <span class=s2>&#34;name&#34;</span>: <span class=s2>&#34;Cloudflare Managed CA for account 11cbe197c050c9e422aaa103cfe30ed8&#34;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;certificate&#34;</span>: <span class=s2>&#34;-----BEGIN CERTIFICATE-----\nMIIEkzCCA...\n-----END CERTIFICATE-----\n&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;csr&#34;</span>: <span class=s2>&#34;-----BEGIN CERTIFICATE REQUEST-----\nMIIDITCCA...\n-----END CERTIFICATE REQUEST-----\n&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ski&#34;</span>: <span class=s2>&#34;eb2a48a19802a705c0e8a39489a71bd586638fdf&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;serial_number&#34;</span>: <span class=s2>&#34;133270673305904147240315902291726509220894288063&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;signature&#34;</span>: <span class=s2>&#34;SHA256WithRSA&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;common_name&#34;</span>: <span class=s2>&#34;ios-bootstrap.devices.upinatoms.com&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;organization&#34;</span>: <span class=s2>&#34;Temperature Testers, Inc.&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;organizational_unit&#34;</span>: <span class=s2>&#34;Tech Operations&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;country&#34;</span>: <span class=s2>&#34;US&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;state&#34;</span>: <span class=s2>&#34;Texas&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;location&#34;</span>: <span class=s2>&#34;Austin&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;expires_on&#34;</span>: <span class=s2>&#34;2030-09-26T02:41:00Z&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;issued_on&#34;</span>: <span class=s2>&#34;2020-09-28T02:41:00Z&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;fingerprint_sha256&#34;</span>: <span class=s2>&#34;84b045d498f53a59bef53358441a3957de81261211fc9b6d46b0bf5880bdaf25&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;validity_days&#34;</span>: <span class=m>3650</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ cat response.json <span class=p>|</span> jq .result.certificate <span class=p>|</span> perl -npe <span class=s1>&#39;s/\\n/\n/g; s/&#34;//g&#39;</span> &gt; ios.pem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Now ask that the second client certificate signing request be signed.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ <span class=nv>CSR</span><span class=o>=</span><span class=k>$(</span>cat sensor.csr <span class=p>|</span> perl -pe <span class=s1>&#39;s/\n/\\n/g&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>$ <span class=nv>request_body</span><span class=o>=</span><span class=k>$(</span>&lt; &lt;<span class=o>(</span>cat <span class=s>&lt;&lt;EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;validity_days&#34;: 3650,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;csr&#34;:&#34;$CSR&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl><span class=k>)</span><span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ curl -H <span class=s1>&#39;X-Auth-Email: YOUR_EMAIL&#39;</span> -H <span class=s1>&#39;X-Auth-Key: YOUR_API_KEY&#39;</span> -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s2>&#34;</span><span class=nv>$request_body</span><span class=s2>&#34;</span> https://api.cloudflare.com/client/v4/zones/YOUR_ZONE_ID/client_certificates <span class=p>|</span> perl -npe <span class=s1>&#39;s/\\n/\n/g; s/&#34;//g&#39;</span> &gt; sensor.pem
</span></span></code></pre></div><hr><h2 id=step-3--embed-the-client-certificate-in-your-mobile-app><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#step-3--embed-the-client-certificate-in-your-mobile-app>&#8203;​</a></span>
<span>Step 3 — Embed the client certificate in your mobile app</span></h2><p>To configure the mobile app to securely request temperature data submitted by the IoT device, embed the client certificate in the mobile app.</p><p>For simplicity, this example embeds a “bootstrap” certificate and key in the application bundle as a PKCS#12-formatted file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ openssl pkcs12 -export -out bootstrap-cert.pfx -inkey ios-key.pem -in ios.pem
</span></span><span class=line><span class=cl>Enter Export Password:
</span></span><span class=line><span class=cl>Verifying - Enter Export Password:
</span></span></code></pre></div><p>In a real-world deployment, a bootstrap certificate should only be used in conjunction with users’ credentials to authenticate with an API endpoint that can return a unique user certificate. Corporate users will want to use mobile device management (MDM) to distribute certificates.</p><h3 id=embed-the-client-certificate-in-an-android-app><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#embed-the-client-certificate-in-an-android-app>&#8203;​</a></span>
<span>Embed the client certificate in an Android app</span></h3><p>The following is an example of how you may use a client certificate in an Android app to make HTTP calls. You need to add the following permission in <code>AndroidManifest.xml</code> to allow an Internet connection.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;uses-permission</span> <span class=na>android:name=</span><span class=s>&#34;android.permission.INTERNET&#34;</span> <span class=nt>/&gt;</span>
</span></span></code></pre></div><p>For demonstration purposes, the certificate in this example is stored in <code>app/src/main/res/raw/cert.pem</code> and the private key is stored in <code>app/src/main/res/raw/key.pem</code>. You may also store these files in other secure manners.</p><p>The following example uses an <code>OkHttpClient</code>, but you may also use other clients such as <code>HttpURLConnection</code> in similar ways. The key is to use the <code>SSLSocketFactory</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>private</span> <span class=n>OkHttpClient</span> <span class=nf>setUpClient</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=n>String</span> <span class=n>SECRET</span> <span class=o>=</span> <span class=s>&#34;secret&#34;</span><span class=o>;</span> <span class=c1>// You may also store this String somewhere more secure.
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>CertificateFactory</span> <span class=n>certificateFactory</span> <span class=o>=</span> <span class=n>CertificateFactory</span><span class=o>.</span><span class=na>getInstance</span><span class=o>(</span><span class=s>&#34;X.509&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Get private key
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>InputStream</span> <span class=n>privateKeyInputStream</span> <span class=o>=</span> <span class=n>getResources</span><span class=o>().</span><span class=na>openRawResource</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>raw</span><span class=o>.</span><span class=na>key</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>byte</span><span class=o>[]</span> <span class=n>privateKeyByteArray</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>byte</span><span class=o>[</span><span class=n>privateKeyInputStream</span><span class=o>.</span><span class=na>available</span><span class=o>()];</span>
</span></span><span class=line><span class=cl>        <span class=n>privateKeyInputStream</span><span class=o>.</span><span class=na>read</span><span class=o>(</span><span class=n>privateKeyByteArray</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>String</span> <span class=n>privateKeyContent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>String</span><span class=o>(</span><span class=n>privateKeyByteArray</span><span class=o>,</span> <span class=n>Charset</span><span class=o>.</span><span class=na>defaultCharset</span><span class=o>())</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>replace</span><span class=o>(</span><span class=s>&#34;-----BEGIN PRIVATE KEY-----&#34;</span><span class=o>,</span> <span class=s>&#34;&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>replaceAll</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>lineSeparator</span><span class=o>(),</span> <span class=s>&#34;&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>replace</span><span class=o>(</span><span class=s>&#34;-----END PRIVATE KEY-----&#34;</span><span class=o>,</span> <span class=s>&#34;&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>byte</span><span class=o>[]</span> <span class=n>rawPrivateKeyByteArray</span> <span class=o>=</span> <span class=n>Base64</span><span class=o>.</span><span class=na>getDecoder</span><span class=o>().</span><span class=na>decode</span><span class=o>(</span><span class=n>privateKeyContent</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>KeyFactory</span> <span class=n>keyFactory</span> <span class=o>=</span> <span class=n>KeyFactory</span><span class=o>.</span><span class=na>getInstance</span><span class=o>(</span><span class=s>&#34;RSA&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>PKCS8EncodedKeySpec</span> <span class=n>keySpec</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PKCS8EncodedKeySpec</span><span class=o>(</span><span class=n>rawPrivateKeyByteArray</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Get certificate
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>InputStream</span> <span class=n>certificateInputStream</span> <span class=o>=</span> <span class=n>getResources</span><span class=o>().</span><span class=na>openRawResource</span><span class=o>(</span><span class=n>R</span><span class=o>.</span><span class=na>raw</span><span class=o>.</span><span class=na>cert</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>Certificate</span> <span class=n>certificate</span> <span class=o>=</span> <span class=n>certificateFactory</span><span class=o>.</span><span class=na>generateCertificate</span><span class=o>(</span><span class=n>certificateInputStream</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Set up KeyStore
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>KeyStore</span> <span class=n>keyStore</span> <span class=o>=</span> <span class=n>KeyStore</span><span class=o>.</span><span class=na>getInstance</span><span class=o>(</span><span class=n>KeyStore</span><span class=o>.</span><span class=na>getDefaultType</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>keyStore</span><span class=o>.</span><span class=na>load</span><span class=o>(</span><span class=kc>null</span><span class=o>,</span> <span class=n>SECRET</span><span class=o>.</span><span class=na>toCharArray</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>keyStore</span><span class=o>.</span><span class=na>setKeyEntry</span><span class=o>(</span><span class=s>&#34;client&#34;</span><span class=o>,</span> <span class=n>keyFactory</span><span class=o>.</span><span class=na>generatePrivate</span><span class=o>(</span><span class=n>keySpec</span><span class=o>),</span> <span class=n>SECRET</span><span class=o>.</span><span class=na>toCharArray</span><span class=o>(),</span> <span class=k>new</span> <span class=n>Certificate</span><span class=o>[]{</span><span class=n>certificate</span><span class=o>});</span>
</span></span><span class=line><span class=cl>        <span class=n>certificateInputStream</span><span class=o>.</span><span class=na>close</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Set up Trust Managers
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>TrustManagerFactory</span> <span class=n>trustManagerFactory</span> <span class=o>=</span> <span class=n>TrustManagerFactory</span><span class=o>.</span><span class=na>getInstance</span><span class=o>(</span><span class=n>TrustManagerFactory</span><span class=o>.</span><span class=na>getDefaultAlgorithm</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>trustManagerFactory</span><span class=o>.</span><span class=na>init</span><span class=o>((</span><span class=n>KeyStore</span><span class=o>)</span> <span class=kc>null</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>TrustManager</span><span class=o>[]</span> <span class=n>trustManagers</span> <span class=o>=</span> <span class=n>trustManagerFactory</span><span class=o>.</span><span class=na>getTrustManagers</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Set up Key Managers
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>KeyManagerFactory</span> <span class=n>keyManagerFactory</span> <span class=o>=</span> <span class=n>KeyManagerFactory</span><span class=o>.</span><span class=na>getInstance</span><span class=o>(</span><span class=n>KeyManagerFactory</span><span class=o>.</span><span class=na>getDefaultAlgorithm</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>keyManagerFactory</span><span class=o>.</span><span class=na>init</span><span class=o>(</span><span class=n>keyStore</span><span class=o>,</span> <span class=n>SECRET</span><span class=o>.</span><span class=na>toCharArray</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>KeyManager</span><span class=o>[]</span> <span class=n>keyManagers</span> <span class=o>=</span> <span class=n>keyManagerFactory</span><span class=o>.</span><span class=na>getKeyManagers</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Obtain SSL Socket Factory
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>SSLContext</span> <span class=n>sslContext</span> <span class=o>=</span> <span class=n>SSLContext</span><span class=o>.</span><span class=na>getInstance</span><span class=o>(</span><span class=s>&#34;TLS&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>sslContext</span><span class=o>.</span><span class=na>init</span><span class=o>(</span><span class=n>keyManagers</span><span class=o>,</span> <span class=n>trustManagers</span><span class=o>,</span> <span class=k>new</span> <span class=n>SecureRandom</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>SSLSocketFactory</span> <span class=n>sslSocketFactory</span> <span class=o>=</span> <span class=n>sslContext</span><span class=o>.</span><span class=na>getSocketFactory</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// Finally, return the client, which will then be used to make HTTP calls.
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>OkHttpClient</span> <span class=n>client</span> <span class=o>=</span> <span class=k>new</span> <span class=n>OkHttpClient</span><span class=o>.</span><span class=na>Builder</span><span class=o>()</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>sslSocketFactory</span><span class=o>(</span><span class=n>sslSocketFactory</span><span class=o>,</span> <span class=o>(</span><span class=n>X509TrustManager</span><span class=o>)</span> <span class=n>trustManagers</span><span class=o>[</span><span class=mi>0</span><span class=o>])</span>
</span></span><span class=line><span class=cl>                <span class=o>.</span><span class=na>build</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>client</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>CertificateException</span> <span class=o>|</span> <span class=n>IOException</span> <span class=o>|</span> <span class=n>NoSuchAlgorithmException</span> <span class=o>|</span> <span class=n>KeyStoreException</span> <span class=o>|</span> <span class=n>UnrecoverableKeyException</span> <span class=o>|</span> <span class=n>KeyManagementException</span> <span class=o>|</span> <span class=n>InvalidKeySpecException</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>The above function returns an <code>OkHttpClient</code> embedded with the client certificate. You can now use this client to make HTTP requests to your API endpoint protected with mTLS.</p><hr><h2 id=step-4--embed-the-client-certificate-on-your-iot-device><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#step-4--embed-the-client-certificate-on-your-iot-device>&#8203;​</a></span>
<span>Step 4 — Embed the client certificate on your IoT device</span></h2><p>To prepare the IoT device for secure communication with the API endpoint, embed the certificate on the device and configure the device to use the certificate when making POST requests.</p><p>This example assumes the certificate and the private key are securely copied to <code>/etc/ssl/private/sensor-key.pem</code> and <code>/etc/ssl/certs/sensor.pem</code>.</p><p>The sample script is modified to point to these files:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>readSensor</span><span class=p>():</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Takes a reading from a temperature sensor and store it to temp_measurement</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>dateTimeObj</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>timestampStr</span> <span class=o>=</span> <span class=n>dateTimeObj</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=err>‘</span><span class=o>%</span><span class=n>Y</span><span class=o>-%</span><span class=n>m</span><span class=o>-%</span><span class=n>dT</span><span class=o>%</span><span class=n>H</span><span class=p>:</span><span class=o>%</span><span class=n>M</span><span class=p>:</span><span class=o>%</span><span class=n>SZ</span><span class=err>’</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>measurement</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;temperature&#39;</span><span class=p>:</span><span class=nb>str</span><span class=p>(</span><span class=n>temp_measurement</span><span class=p>),</span><span class=s1>&#39;time&#39;</span><span class=p>:</span><span class=n>timestampStr</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>measurement</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Cloudflare API Shield [IoT device demonstration]&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>temperature</span> <span class=o>=</span> <span class=n>readSensor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>temperature</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=s1>&#39;https://shield.upinatoms.com/temps&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>json_headers</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;Content-Type&#39;</span><span class=p>:</span> <span class=s1>&#39;application/json&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>cert_file</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;/etc/ssl/certs/sensor.pem&#39;</span><span class=p>,</span> <span class=s1>&#39;/etc/ssl/private/sensor-key.pem&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>r</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span> <span class=o>=</span> <span class=n>json_headers</span><span class=p>,</span> <span class=n>data</span> <span class=o>=</span> <span class=n>payload</span><span class=p>,</span> <span class=n>cert</span> <span class=o>=</span> <span class=n>cert_file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Request body: &#34;</span><span class=p>,</span> <span class=n>r</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Response status code: </span><span class=si>%d</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=n>r</span><span class=o>.</span><span class=n>status_code</span><span class=p>)</span>
</span></span></code></pre></div><p>When the script attempts to connect to <code>https://shield.upinatoms.com/temps</code>, Cloudflare requests that a client certificate is sent and the script sends the contents of <code>/etc/ssl/certs/sensor.pem</code>. Then, as required to complete the SSL/TLS handshake, the script demonstrates it has possession of <code>/etc/ssl/private/sensor-key.pem</code>.</p><p>Without the client certificate, the Cloudflare rejects the request:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Cloudflare API Shield <span class=o>[</span>IoT device demonstration<span class=o>]</span>
</span></span><span class=line><span class=cl>Request body:  <span class=o>{</span><span class=s2>&#34;temperature&#34;</span>: <span class=s2>&#34;36.5&#34;</span>, <span class=s2>&#34;time&#34;</span>: <span class=s2>&#34;2020-09-28T15:52:19Z&#34;</span><span class=o>}</span>
</span></span><span class=line><span class=cl>Response status code: <span class=m>403</span>
</span></span></code></pre></div><p>When the IoT device presents a valid client certificate, the POST request succeeds and the temperature reading is recorded:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Cloudflare API Shield <span class=o>[</span>IoT device demonstration<span class=o>]</span>
</span></span><span class=line><span class=cl>Request body:  <span class=o>{</span><span class=s2>&#34;temperature&#34;</span>: <span class=s2>&#34;36.5&#34;</span>, <span class=s2>&#34;time&#34;</span>: <span class=s2>&#34;2020-09-28T15:56:45Z&#34;</span><span class=o>}</span>
</span></span><span class=line><span class=cl>Response status code: <span class=m>201</span>
</span></span></code></pre></div><hr><h2 id=step-5--enable-mtls><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#step-5--enable-mtls>&#8203;​</a></span>
<span>Step 5 — Enable mTLS</span></h2><p>After creating Cloudflare-issued certificates, the next step is to <a href=/ssl/client-certificates/enable-mtls/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>enable mTLS</span></a> for the hosts you want to protect with API Shield.</p><hr><h2 id=step-6--configure-api-shield-to-require-client-certificates><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#step-6--configure-api-shield-to-require-client-certificates>&#8203;​</a></span>
<span>Step 6 — Configure API Shield to require client certificates</span></h2><p>To configure API Shield to require client certificates, <a href=/firewall/cf-dashboard/create-mtls-rule/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>create a mTLS rule</span></a>.</p></article></div></main><footer class=DocsFooter><div class=DocsFooter--content><div class=DocsFooterResources><span class=DocsFooter--content-additional-wrapper><a href="https://dash.cloudflare.com/?to=/:account/:zone/ssl-tls/" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare Dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://community.cloudflare.com/c/security/6 class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Community</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://www.cloudflare.com/learning/ssl/what-is-ssl/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Learning Center</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href="https://dash.cloudflare.com/?to=/:account/support" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Support Portal</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span></div><div><span class=DocsFooter--edit-on-gh-link-wrapper><a href=https://github.com/panthere2k/cf-docs/blob/main/content/ssl/client-certificates/configure-your-mobile-app-or-iot-device.md class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Edit on GitHub</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-time>Updated <time class=relative datetime=2023-01-02T09:58:19+09:00 title=2023-01-02>January 2, 2023</time></span></div></div></footer></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PKQFGQB" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-PKQFGQB")</script><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style></noscript><script defer src=https://unpkg.com/littlefoot/dist/littlefoot.js type=application/javascript></script>
<script type=application/javascript>document.addEventListener("DOMContentLoaded",()=>littlefoot.default())</script></body></html>
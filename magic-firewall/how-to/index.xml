<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>How to on Security365 Docs</title><link>https://panthere2k.github.io/magic-firewall/how-to/</link><description>Recent content in How to on Security365 Docs</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://panthere2k.github.io/magic-firewall/how-to/index.xml" rel="self" type="application/rss+xml"/><item><title>Add rules</title><link>https://panthere2k.github.io/magic-firewall/how-to/add-rules/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/add-rules/</guid><description>RulesYou can check for an existing root ruleset from the dashboard or via the Account rulesets API. If you are a new Magic Transit customer, you may not have a root ruleset created for your account. To view examples for root rulesets, review the Magic Firewall Terraform documentation External link icon Open external link .
By default, you can create a maximum of 100 rules. We recommend you create lists of IP addresses to reference within rules to streamline rule management.</description></item><item><title>Form expressions</title><link>https://panthere2k.github.io/magic-firewall/how-to/form-expressions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/form-expressions/</guid><description>Form an expressionRules are written as using the Cloudflare Rules language - a DSL intended to mimic Wireshark semantics. For more information, refer to the Rules language documentation.
To start with a simple case, review below how you would match a source IP:
ip.src == 192.0.2.0
Expressions can be more complex by joining multiple clauses via a logical operator:
ip.src == 192.0.2.1 &amp;amp;&amp;amp; (tcp.flags.push || tcp.flags.reset)
&amp;#8203;​ Capabilities You can use Magic Firewall to skip or block packets based on source or destination IP, source or destination port, protocol, packet length, or bit field match.</description></item><item><title>Use lists</title><link>https://panthere2k.github.io/magic-firewall/how-to/use-rules-list/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/use-rules-list/</guid><description>Define a ListLists defined at the account level can be used to match against ip.src and ip.dst fields. Currently only IPv4 addresses in these lists are used as IPv6 is currently not supported in Magic Firewall.
To use this feature first create a new IP list.
curl -X POST https://api.cloudflare.com/client/v4/accounts/${account_id}/rules/lists \ -H &amp;#39;Content-Type: application/json&amp;#39; \ -H &amp;#39;X-Auth-Email: user@example.com&amp;#39; \ -H &amp;#39;X-Auth-Key: 00000000000&amp;#39; \ --data &amp;#39;{ &amp;#34;name&amp;#34;:&amp;#34;iplist&amp;#34;, &amp;#34;description&amp;#34;:&amp;#34;This contains IPs that should be allowed.</description></item><item><title>PCAPs bucket setup</title><link>https://panthere2k.github.io/magic-firewall/how-to/pcaps-bucket-setup/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/pcaps-bucket-setup/</guid><description>Set up a bucket for full packet capturesBefore you can begin a full packet capture, you must first configure a bucket that Cloudflare can use to upload your files.
You can configure an Amazon S3 or Google Cloud Platform bucket to use as a target.
&amp;#8203;​ Set up a bucket Learn how to set up a bucket for use with full packet captures.
Dashboard API Log in to your Cloudflare dashboard External link icon Open external link and select Magic Transit or Magic WAN.</description></item><item><title>Collect PCAPs</title><link>https://panthere2k.github.io/magic-firewall/how-to/collect-pcaps/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/collect-pcaps/</guid><description>Collect packet captures (PCAPs)After a packet capture is requested and the capture is collected, the output is contained within one or more files in PCAP file format. Before starting a full type packet capture, you must first follow instructions for configuring a bucket.
This feature is available for Advanced Magic Firewall users. For access, contact your account team. &amp;#8203;​ Send a packet capture request Currently, when a packet capture is requested, packets flowing at the edge through the Magic Transit system are captured, and the system is magic-transit.</description></item><item><title>Enable IDS</title><link>https://panthere2k.github.io/magic-firewall/how-to/enable-ids/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/enable-ids/</guid><description>Enable IDSCloudflare&amp;rsquo;s IDS takes advantage of the threat intelligence powered by our global network and extends the capabilities of the Cloudflare Firewall to monitor and protect your network from malicious actors.
To start using IDS, first create a new ruleset in the magic-transit-ids-managed phase with a rule which is enabled.
&amp;#8203;​ Create a new ruleset Follow instructions in the Rulesets Engine Page to view all rulesets for your account. You must see a ruleset with phase magic-transit-ids-managed and kind managed.</description></item><item><title>Enable Magic user roles</title><link>https://panthere2k.github.io/magic-firewall/how-to/enable-magic-roles/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/enable-magic-roles/</guid><description>Magic user rolesYou can determine which users have, or do not have, configuration edit access for Magic products, including Magic Transit, Magic WAN, and Magic Firewall.
For example, if you have multiple Cloudflare products managed by different teams on the same account, you may want to provide select users with edit access and other users with read-only access.
&amp;#8203;​ Assign permissions Navigate to the Cloudflare dashboard External link icon Open external link and select your account.</description></item><item><title>Enable Managed Rulesets</title><link>https://panthere2k.github.io/magic-firewall/how-to/enable-managed-rulesets/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/enable-managed-rulesets/</guid><description>Enable managed rulesetsWith managed rulesets, you can quickly deploy rules maintained by Cloudflare, and you can use Magic Firewall to control which rules are enabled.
Note:Before you can begin using managed rulesets with Magic Firewall, your account must first be entitled to use managed rulesets. Contact your account team for access. To enable or disable a rule, you can specify which properties should be overriden. The overrides occur in the Managed phase, root kind ruleset.</description></item><item><title>Filter different views</title><link>https://panthere2k.github.io/magic-firewall/how-to/filter-views/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/filter-views/</guid><description>Filter different viewsYou can utilize different Log filters to only view specific data from Magic Firewall.
&amp;#8203;​ Filter by enabled or disabled rules Use the filter examples below to filter your Magic Firewall traffic to display events for enabled or disabled rules.
The example below only displays fields relevant to Magic Firewall, and the filter only displays events for disabled rules.
curl -sS &amp;#34;https://api.cloudflare.com/client/v4/accounts/&amp;lt;ACCOUNT_ID&amp;gt;/logpush/jobs&amp;#34; \ -H &amp;#34;X-Auth-Email: &amp;lt;CLOUDFLARE_EMAIL&amp;gt;&amp;#34; \ -H &amp;#34;X-Auth-Key: &amp;lt;CLOUDFLARE_API_KEY&amp;gt;&amp;#34; \ -X POST \ -d &amp;#39;{ .</description></item><item><title>Use Logpush with IDS</title><link>https://panthere2k.github.io/magic-firewall/how-to/use-logpush-with-ids/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://panthere2k.github.io/magic-firewall/how-to/use-logpush-with-ids/</guid><description>Configure a Logpush DestinationFirst consult the Logpush Destination docs to see what destinations logpush supports. After picking a destination, the docs will also show how to correctly format the destination URL for Logpush.
Next, follow the Manage Lopush with cURL tutorial to validate your Logpush destination and define a Logpush job.
A few notes on using Logpush with IDS:
Magic IDS is an account-scoped dataset. This means the string /zone/&amp;lt;ZONE_ID&amp;gt; in the Cloudflare API URLs in the tutorial should be replaced with /account/&amp;lt;ACCOUNT_ID&amp;gt;.</description></item></channel></rss>
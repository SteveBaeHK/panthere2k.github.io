<!doctype html><html lang=en theme=light is-docs-page js-focus-visible-polyfill-available><head><meta charset=utf-8><title>Flexible variants · Cloudflare Image Optimization docs</title><meta http-equiv=cleartype content="on"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=application-name content="Flexible variants · Cloudflare Image Optimization docs"><meta name=msapplication-tap-highlight content="no"><meta name=apple-mobile-web-app-title content="Flexible variants · Cloudflare Image Optimization docs"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=apple-mobile-web-app-capable content="yes"><meta name=mobile-web-app-capable content="yes"><meta name=theme-color content="#f38020"><meta name=description content="Choose between Cloudflare Images and Cloudflare Image Resizing, two products tailored to your different needs."><meta property="og:image" content="https://panthere2k.github.io/dev-products-preview.png"><meta property="og:title" content="Flexible variants · Cloudflare Image Optimization docs"><meta property="og:description" content="Choose between Cloudflare Images and Cloudflare Image Resizing, two products tailored to your different needs."><meta property="og:type" content="website"><meta name=twitter:title content="Flexible variants · Cloudflare Image Optimization docs"><meta name=twitter:image content="https://panthere2k.github.io/dev-products-preview.png"><meta name=twitter:description content="Choose between Cloudflare Images and Cloudflare Image Resizing, two products tailored to your different needs."><meta name=twitter:creator content="@cloudflare"><meta name=twitter:card content="summary_large_image"><meta name=pcx_content_type content="reference"><link rel=icon href=/favicon-32x32.png><link rel=canonical href=https://panthere2k.github.io/images/cloudflare-images/transform/flexible-variants/><link rel=sitemap href=/sitemap.xml type=application/xml><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon sizes=48x48 href=/icons/icon-48x48.png><link rel=apple-touch-icon sizes=72x72 href=/icons/icon-72x72.png><link rel=apple-touch-icon sizes=96x96 href=/icons/icon-96x96.png><link rel=apple-touch-icon sizes=144x144 href=/icons/icon-144x144.png><link rel=apple-touch-icon sizes=192x192 href=/icons/icon-192x192.png><link rel=apple-touch-icon sizes=256x256 href=/icons/icon-256x256.png><link rel=apple-touch-icon sizes=384x384 href=/icons/icon-384x384.png><link rel=apple-touch-icon sizes=512x512 href=/icons/icon-512x512.png><script src=/search.redirect.min.6828ce878577fe91120d67814d68c0d8.js defer></script><link rel="stylesheet preconnect" href=/style.css><script>(function(){let s=!1,e,n;document.readyState!=="loading"?o():addEventListener("DOMContentLoaded",o),e=document.querySelector("#ThemeToggle"),s=!e;function t(n){try{let o=n?"dark":"light";document.documentElement.setAttribute("theme",o),localStorage.theme=JSON.stringify({theme:o}),e?(e.checked=n,s=!1):s&&setTimeout(t,1,n)}catch{}}function o(){e=e||document.querySelector("#ThemeToggle"),e.addEventListener("change",()=>t(!!e.checked)),addEventListener("keydown",n=>{n.target===document.body&&n.which===68&&n.shiftKey&&(n.preventDefault(),t(!e.checked))})}try{n=window.matchMedia("(prefers-color-scheme:dark)"),n.onchange=e=>t(e.matches)}catch{}try{let e=localStorage.theme,s=e&&JSON.parse(e);t(s?/dark/.test(s.theme):!!(n&&n.matches))}catch{}})()</script><script src=/main.min.c2a5e976c412695a3d9389cba84aa5bd.js defer></script>
<script data-source=docs defer src=https://feedback.developers.cloudflare.com/sdk.js></script>
<link rel=preload href=https://feedback.developers.cloudflare.com/sdk.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://feedback.developers.cloudflare.com/sdk.css></noscript></head><body><div class=DocsPage><div><a class=skip-link href=#main>Skip to content</a></div><div class=DocsMobileHeader><a class="DocsMobileHeader--cloudflare-logo-link Link Link-without-underline" href=/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsMobileTitleHeader><a aria-current=page class="DocsMobileTitleHeader--logo-link Link Link-without-underline" href=/images/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><span title="Cloudflare Cloudflare Image Optimization logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M42 8.94H6l-1.5 1.5v29.903l1.5 1.5h36l1.5-1.5V10.44L42 8.94zm-1.5 3v14.018l-6-4.913-1.965.06-3.81 3.51-4.073-3-1.852.06-10.5 8.775-4.8-3.3V11.94h33zm-33 26.903V30.81l3.975 2.775 1.815-.082 10.523-8.753 4.125 3 1.905-.105 3.75-3.472 6.907 5.655v9l-33 .015zm6.81-14.723a3 3 0 100-6 3 3 0 000 6z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:29>Cloudflare Image Optimization</span></span></div></a><button class="Button DocsMobileTitleHeader--sidebar-toggle-button">
<span class=DocsMobileTitleHeader--sidebar-toggle-button-icon aria-hidden=true><svg viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" role="img" aria-labelledby="title-1332672649688018" xmlns="http://www.w3.org/2000/svg"><title id="title-1332672649688018">Navigation menu icon</title><path data-index="1" d="M5 7h10" transform-origin="10 7"/><path data-index="2" d="M5 10h10" transform-origin="10 10"/><path data-index="3" d="M5 13h10" transform-origin="10 13"/></svg><span is-visually-hidden>Open external link</span></span></button></div><div class=DocsMobileNavBackdrop></div><div class=DocsSidebar><div class=DocsSidebar--sections><div class="DocsSidebar--section DocsSidebar--header-section"><a class="DocsSidebar--cloudflare-logo-link DocsSidebar--link" href=/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsSidebar--section-separator></div><div class="DocsSidebar--section DocsSidebar--docs-title-section"><a aria-current=page class="DocsSidebar--docs-title-logo-link DocsSidebar--link" href=/images/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><span title="Cloudflare Cloudflare Image Optimization logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M42 8.94H6l-1.5 1.5v29.903l1.5 1.5h36l1.5-1.5V10.44L42 8.94zm-1.5 3v14.018l-6-4.913-1.965.06-3.81 3.51-4.073-3-1.852.06-10.5 8.775-4.8-3.3V11.94h33zm-33 26.903V30.81l3.975 2.775 1.815-.082 10.523-8.753 4.125 3 1.905-.105 3.75-3.472 6.907 5.655v9l-33 .015zm6.81-14.723a3 3 0 100-6 3 3 0 000 6z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:29>Cloudflare Image Optimization</span></span></div></a><div class="DocsSidebar--section-more Dropdown" data-expanded=false><button class="DocsSidebar--section-more-button Button" aria-expanded=false><div class=DocsSidebar--section-more-button-icon><svg viewBox="0 0 4 16" stroke="currentcolor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" fill="currentcolor" role="img" aria-labelledby="title-6032186738345315" xmlns="http://www.w3.org/2000/svg"><title id="title-6032186738345315">Dropdown icon</title><path d="M2 2v0m0 6v0m0 6v0z"/></svg><span is-visually-hidden>Cloudflare Image Optimization menu</span></div></button><div class="DocsSidebar--section-more-dropdown Dropdown--dropdown"><ul class=Dropdown--list><li class=Dropdown--item><a class=Dropdown--link href=https://cloudflare.com tabindex=-1>Cloudflare homepage</a></li></ul></div></div></div><div class="DocsSidebar--section DocsSidebar--nav-section" style=position:relative;overflow:hidden;width:100%;height:100%><div style=position:absolute;inset:0;overflow-y:auto;margin-right:0;margin-bottom:0><div class=DocsSidebar--nav-section-shadow style=opacity:0></div><ul class=DocsSidebar--nav><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Overview</span></a></li><li class=DocsSidebar--nav-item is-active-root is-expanded><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Cloudflare Images</span>
</button><a class=DocsSidebar--nav-link href=/images/cloudflare-images/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cloudflare Images</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-expanded" style=min-height:0;transition-duration:400ms is-expanded><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/api-request/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Make your first API request</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Upload images</span>
</button><a class=DocsSidebar--nav-link href=/images/cloudflare-images/upload-images/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Upload images</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/upload-images/dashboard-upload/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Images dashboard</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/upload-images/direct-creator-upload/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Direct Creator Upload</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/upload-images/upload-via-url/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>URL upload</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/upload-images/custom-id/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Custom ID</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/upload-images/formats-limitations/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Formats and limitations</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item is-active-root is-expanded><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Edit images</span>
</button><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Edit images</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-expanded" style=min-height:0;transition-duration:400ms is-expanded><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/resize-images/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Resize images</span></a></li><li class=DocsSidebar--nav-item is-active><a aria-current=page class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/flexible-variants/ is-active><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Flexible variants</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/blur-images/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Blur images</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/edit-images/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Edit images</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/delete-images/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Delete images</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/delete-variants/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Delete variants</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/transform/export-image/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Export images</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Serve images</span>
</button><a class=DocsSidebar--nav-link href=/images/cloudflare-images/serve-images/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Serve images</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/serve-images/adaptive-images-format/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Adaptive image format</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/serve-images/serve-images-custom-domains/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Custom domains</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/serve-images/serve-private-images-using-signed-url-tokens/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Serve private images</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Sourcing Kit (beta)</span>
</button><a class=DocsSidebar--nav-link href=/images/cloudflare-images/sourcing-kit/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Sourcing Kit (beta)</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/sourcing-kit/enable/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Enable Sourcing Kit</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/sourcing-kit/edit/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Edit sources</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/sourcing-kit/credentials/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Credentials</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/make-an-image-private/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Make an image private</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/images-analytics/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Analytics</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/cloudflare-images/tutorials/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Tutorials</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=https://developers.cloudflare.com/api/operations/cloudflare-images-list-images><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>API reference</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Cloudflare Image Resizing</span>
</button><a class=DocsSidebar--nav-link href=/images/image-resizing/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cloudflare Image Resizing</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/enable-image-resizing/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Enable Image Resizing</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/format-limitations/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Formats and limitations</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/url-format/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>URL format</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/responsive-images/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Responsive images</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/resize-with-workers/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Resize with Cloudflare Workers</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/draw-overlays/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Draw overlays and watermarks</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/control-origin-access/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Control origin access</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/image-resizing/integration-with-frameworks/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Integration with frameworks</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=https://developers.cloudflare.com/api/operations/zone-settings-get-image-resizing-setting tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>API reference</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Cloudflare Polish</span>
</button><a class=DocsSidebar--nav-link href=/images/polish/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cloudflare Polish</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/polish/activate-polish/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Activate Polish</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/polish/compression/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Polish compression</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=https://developers.cloudflare.com/api/operations/zone-settings-get-polish-setting tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>API reference</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/images/faq/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>FAQ</span></a></li></ul></div><div style=position:absolute;height:6px;display:none;right:2px;bottom:2px;left:2px;border-radius:3px><div style=position:relative;display:block;height:100%;cursor:pointer;border-radius:inherit;background-color:rgba(0,0,0,.2)></div></div><div style=position:absolute;width:6px;display:none class="Scrollbars--track Scrollbars--track-vertical"><div style=position:relative;display:block;width:100% class="Scrollbars--thumb Scrollbars--thumb-vertical"></div></div></div><div class=toggleSidebar><button id=toggleSidebarButton style=width:2em;height:2em title="Click to collapse and expand the sidebar navigation"><svg id="toggleSidebarSVG" aria-hidden="true" height="1" width="1" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path id="toggleSidebarSVGPath" d="M15 2a1 1 0 00-1 1v10a1 1 0 002 0V3a1 1 0 00-1-1zm-10.407.993-4.3 4.3a1 1 0 000 1.414l4.3 4.3a1 1 0 001.415-1.416L3.417 9H10a1 1 0 100-2H3.417l2.591-2.591A1 1 0 104.593 2.993z"/></svg></button></div></div><div class=DocsSidebar--shadow></div></div><div class=DocsToolbar><div class=DocsToolbar--search><div class=DocsSearch><div class=DocsSearch--input-wrapper><input type=text id=DocsSearch--input class=DocsSearch--input spellcheck=false autocomplete=false placeholder="Search docs..."><div class=DocsSearch--input-icon><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-9701125841014673" xmlns="http://www.w3.org/2000/svg"><title id="title-9701125841014673">Search icon (depiction of a magnifying glass)</title><path d="M11.999 10.585l3.458 3.458a1 1 0 01-1.414 1.414L10.585 12a6.5 6.5.0 111.414-1.414zM6.75 11.5a4.75 4.75.0 100-9.5 4.75 4.75.0 000 9.5z"/></svg></div><button disabled class=slashPlaceholder title="Press '/' to focus on the search bar" aria-label="Forward slash keyboard shortcut" tabindex=-1 type=button><div style=margin-top:-1px>/</span></div></button></div></div></div><div class=DocsToolbar--tools><button data-feedback=true class="DocsToolbar--feedback Button Button-is-docs-secondary">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17"><path d="M14 2.5H2l-.5.5v11.165l.863.345 2.852-3.01H14l.5-.5V3l-.5-.5zm-.5 8H4.785L2.5 12.911V3.5h11v7z" fill="currentcolor"/><path d="M12.5 5.003h-9v1h9v-1zm0 2.497h-9v1h9v-1z" fill="currentcolor"/></svg>Give Feedback</button><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--tools-icon-item><div class=Tooltip---root><div class=DocsToolbar--tools-icon-item-content><a class="Link Link-without-underline" href=https://github.com/cloudflare/cloudflare-docs><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-6991762763429039" xmlns="http://www.w3.org/2000/svg"><title id="title-6991762763429039">GitHub icon</title><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z" fill-rule="evenodd"/></svg></a></div><span class=Tooltip role=tooltip position=bottom-end>Visit Cloudflare Image Optimization on GitHub</span></div></div><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--theme-toggle><div class=Tooltip---root><div class=ThemeToggle><input type=checkbox id=ThemeToggle class=ThemeToggle--input>
<label class=ThemeToggle--toggle for=ThemeToggle><div class=ThemeToggle--toggle-handle></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--sun"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-8812071124069258" xmlns="http://www.w3.org/2000/svg"><title id="title-8812071124069258">Light theme icon (depiction of a sun)</title><path d="M7.5 11.465a3.482 3.482.0 01-1.596-.662L4.11 12.596a.5.5.0 01-.707-.707l1.793-1.793A3.482 3.482.0 014.535 8.5H2a.5.5.0 010-1h2.535a3.482 3.482.0 01.662-1.596L3.404 4.11a.5.5.0 01.707-.707l1.793 1.793A3.482 3.482.0 017.5 4.535V2a.5.5.0 011 0v2.535a3.482 3.482.0 011.596.662l1.793-1.793a.5.5.0 01.707.707l-1.793 1.793c.343.458.577 1.003.662 1.596H14a.5.5.0 110 1h-2.535a3.482 3.482.0 01-.662 1.596l1.793 1.793a.5.5.0 01-.707.707l-1.793-1.793a3.482 3.482.0 01-1.596.662V14a.5.5.0 11-1 0v-2.535z"/></svg></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--moon"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-5971296394189265" xmlns="http://www.w3.org/2000/svg"><title id="title-5971296394189265">Dark theme icon (depiction of a moon)</title><path d="M7.067 3.087a5 5 0 005.466 7.026A5 5 0 117.067 3.087z"/></svg></div></label><span class=Tooltip role=tooltip position=bottom-end>Set theme to dark (⇧+D)</span></div></div></div></div></div><main class=DocsBody><div class=DocsBody--sidebar with-styled-webkit-scrollbars><div class=DocsBody--sidebar-content-scroll-fade></div><div class=DocsBody--sidebar-content><ul class=DocsTableOfContents hidden><li><a class=DocsTableOfContents-link href=#docs-content>↑ Top</a></li></ul></nav></div></div><div id=docs-content data-reach-skip-nav-content></div><div class=DocsContent id=main page-type=document><article class=DocsMarkdown><h1 id=flexible-variants>Flexible variants</h1><p>If you need more flexibility than regular variants allow, you can create flexible variants. Flexible variants allow you to create variants with dynamic resizing. This option is not enabled by default. You can enable flexible variants through the dashboard or via API.</p><aside class=DocsMarkdown--aside role=note data-type=warning><div class=DocsMarkdown--aside-header>Warning</div>Enabling flexible variants on your account effectively allows anyone to obtain untransformed, full-resolution images and their metadata by changing variant properties in the URL.</aside><div class=tabs-wrapper tab-wrapper-id=d2bbe7be4a2e5438><nav role=navigation class=tabs><ul class=tab-active block-id=d2bbe7be4a2e5438><li class=tab-label-wrapper><a class="tab-label noCodeLabel active" href=# data-link=tab-dashboard data-id=d2bbe7be4a2e5438>Dashboard</a></li><li class=tab-label-wrapper><a class="tab-label noCodeLabel" href=# data-link=tab-api data-id=d2bbe7be4a2e5438>API</a></li></ul></nav><div class="tab noCodeTab" id=tab-dashboard-d2bbe7be4a2e5438><ol><li>Log in to the <a href=https://dash.cloudflare.com/login class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span>
</span></a>, and select your account.</li><li>Select <strong>Images</strong> > <strong>Variants</strong>.</li><li>Enable <strong>Flexible variants</strong>.</li></ol></div><div class="tab noCodeTab" id=tab-api-d2bbe7be4a2e5438><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X PATCH https://api.cloudflare.com/client/v4/accounts/&lt;ACCOUNT_ID&gt;/images/v1/config <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -H <span class=s2>&#34;Authorization: Bearer &lt;API_TOKEN&gt;&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -H <span class=s2>&#34;Content-Type: application/json&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --data <span class=s1>&#39;{&#34;flexible_variants&#34;: true}&#39;</span>
</span></span></code></pre></div></div></div><p>Once activated, it is possible to use resizing parameters on any Cloudflare Image. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>https://imagedelivery.net/&lt;ACCOUNT_HASH&gt;/&lt;IMAGE_ID&gt;/w=400,sharpen=3
</span></span></code></pre></div><p>Note that flexible variants cannot be used for images that require a <a href=/images/cloudflare-images/serve-images/serve-private-images-using-signed-url-tokens/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>signed delivery URL</span></a>, and that Cloudflare Images does not resize <a href=/images/cloudflare-images/upload-images/formats-limitations/#svg-files class=DocsMarkdown--link><span class=DocsMarkdown--link-content>SVG files</span></a>.</p><h3 id=supported-properties><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#supported-properties>&#8203;​</a></span>
<span>Supported properties</span></h3><p>You must specify at least one option. Options are comma-separated (spaces are not allowed anywhere). Names of options can be specified in full or abbreviated.</p><h4 id=anim><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#anim>&#8203;​</a></span>
<span><code>anim</code></span></h4><p>Whether to preserve animation frames from input files. Default is <code>true</code>. Setting it to <code>false</code> reduces animations to still images. This setting is recommended when enlarging images or processing arbitrary user content, because large GIF animations can weigh tens or even hundreds of megabytes. It is also useful to set <code>anim:false</code> when using <code>format:"json"</code> to get the response quicker without the number of frames. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>anim</span><span class=o>=</span><span class=kc>false</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>anim</span><span class=o>:</span> <span class=kc>false</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=background><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#background>&#8203;​</a></span>
<span><code>background</code></span></h4><p>Background color to add underneath the image. Applies to images with transparency (for example, PNG) and images resized with <code>fit=pad</code>. Accepts any CSS color, such as <code>#RRGGBB</code> and <code>rgba(…)</code>. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>background</span><span class=o>=%</span><span class=mi>23</span><span class=nx>RRGGBB</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>OR</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>background</span><span class=o>=</span><span class=nx>red</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>background</span><span class=o>:</span> <span class=s2>&#34;#RRGGBB&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=blur><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#blur>&#8203;​</a></span>
<span><code>blur</code></span></h4><p>Blur radius between <code>1</code> (slight blur) and <code>250</code> (maximum). Be aware that you cannot use this option to reliably obscure image content, because savvy users can modify an image&rsquo;s URL and remove the blur option. Use Workers to control which options can be set. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>blur</span><span class=o>=</span><span class=mi>50</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>blur</span><span class=o>:</span> <span class=mi>50</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=border><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#border>&#8203;​</a></span>
<span><code>border</code></span></h4><p>Adds a border around the image. The border is added after resizing. Border width takes <code>dpr</code> into account, and can be specified either using a single <code>width</code> property, or individually for each side.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>border</span><span class=o>:</span> <span class=p>{</span><span class=nx>color</span><span class=o>:</span> <span class=s2>&#34;rgb(0,0,0,0)&#34;</span><span class=p>,</span> <span class=nx>top</span><span class=o>:</span> <span class=mi>5</span><span class=p>,</span> <span class=nx>right</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>bottom</span><span class=o>:</span> <span class=mi>5</span><span class=p>,</span> <span class=nx>left</span><span class=o>:</span> <span class=mi>10</span><span class=p>}}}</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>border</span><span class=o>:</span> <span class=p>{</span><span class=nx>color</span><span class=o>:</span> <span class=s2>&#34;#FFFFFF&#34;</span><span class=p>,</span> <span class=nx>width</span><span class=o>:</span> <span class=mi>10</span><span class=p>}}}</span>
</span></span></code></pre></div><h4 id=brightness><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#brightness>&#8203;​</a></span>
<span><code>brightness</code></span></h4><p>Increase brightness by a factor. A value of <code>1.0</code> equals no change, a value of <code>0.5</code> equals half brightness, and a value of <code>2.0</code> equals twice as bright. <code>0</code> is ignored. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>brightness</span><span class=o>=</span><span class=mf>0.5</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>brightness</span><span class=o>:</span> <span class=mf>0.5</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=compressionfast><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#compressionfast>&#8203;​</a></span>
<span><code>compression=fast</code></span></h4><p>Slightly reduces latency on a cache miss by selecting a quickest-to-compress file format, at a cost of increased file size and lower image quality. It will usually override the <code>format</code> option and choose JPEG over WebP or AVIF. We do not recommend using this option, except in unusual circumstances like resizing uncacheable dynamically-generated images.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>compression</span><span class=o>=</span><span class=nx>fast</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>compression</span><span class=o>:</span> <span class=s2>&#34;fast&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=contrast><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#contrast>&#8203;​</a></span>
<span><code>contrast</code></span></h4><p>Increase contrast by a factor. A value of <code>1.0</code> equals no change, a value of <code>0.5</code> equals low contrast, and a value of <code>2.0</code> equals high contrast. <code>0</code> is ignored. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>contrast</span><span class=o>=</span><span class=mf>0.5</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>contrast</span><span class=o>:</span> <span class=mf>0.5</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=dpr><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#dpr>&#8203;​</a></span>
<span><code>dpr</code></span></h4><p>Device Pixel Ratio. Default is <code>1</code>. Multiplier for <code>width</code>/<code>height</code> that makes it easier to specify higher-DPI sizes in <code>&lt;img srcset></code>. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>dpr</span><span class=o>=</span><span class=mi>1</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>dpr</span><span class=o>:</span> <span class=mi>1</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=fit><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#fit>&#8203;​</a></span>
<span><code>fit</code></span></h4><p>Affects interpretation of <code>width</code> and <code>height</code>. All resizing modes preserve aspect ratio. Used as a string in Workers integration. Available modes are:</p><ul><li><code>scale-down</code><br>Similar to <code>contain</code>, but the image is never enlarged. If the image is larger than given <code>width</code> or <code>height</code>, it will be resized. Otherwise its original size will be kept. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>fit</span><span class=o>=</span><span class=nx>scale</span><span class=o>-</span><span class=nx>down</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>fit</span><span class=o>:</span> <span class=s2>&#34;scale-down&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><code>contain</code><br>Image will be resized (shrunk or enlarged) to be as large as possible within the given <code>width</code> or <code>height</code> while preserving the aspect ratio. If you only provide a single dimension (for example, only <code>width</code>), the image will be shrunk or enlarged to exactly match that dimension. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>fit</span><span class=o>=</span><span class=nx>contain</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>fit</span><span class=o>:</span> <span class=s2>&#34;contain&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><code>cover</code><br>Resizes (shrinks or enlarges) to fill the entire area of <code>width</code> and <code>height</code>. If the image has an aspect ratio different from the ratio of <code>width</code> and <code>height</code>, it will be cropped to fit. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>fit</span><span class=o>=</span><span class=nx>cover</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>fit</span><span class=o>:</span> <span class=s2>&#34;cover&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><code>crop</code><br>Image will be shrunk and cropped to fit within the area specified by <code>width</code> and <code>height</code>. The image will not be enlarged. For images smaller than the given dimensions, it is the same as <code>scale-down</code>. For images larger than the given dimensions, it is the same as <code>cover</code>. See also <a href=#trim class=DocsMarkdown--link><span class=DocsMarkdown--link-content><code>trim</code></span></a>. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>fit</span><span class=o>=</span><span class=nx>crop</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>fit</span><span class=o>:</span> <span class=s2>&#34;crop&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><code>pad</code><br>Resizes to the maximum size that fits within the given <code>width</code> and <code>height</code>, and then fills the remaining area with a <code>background</code> color (white by default). This mode is not recommended, since you can achieve the same effect more efficiently with the <code>contain</code> mode and the CSS <code>object-fit: contain</code> property. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>fit</span><span class=o>=</span><span class=nx>pad</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>fit</span><span class=o>:</span> <span class=s2>&#34;pad&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=format><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#format>&#8203;​</a></span>
<span><code>format</code></span></h4><aside class=DocsMarkdown--aside role=note data-type=note><div class=DocsMarkdown--aside-header>Note</div>At the moment, this setting only works directly with <a href=/images/image-resizing/url-format/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Image Resizing</span></a>.</aside><p>The <code>auto</code> option will serve the WebP or AVIF format to browsers that support it. If this option is not specified, a standard format like JPEG or PNG will be used.</p><p>Workers integration supports:</p><ul><li><code>avif</code>: Generate images in AVIF format if possible (with WebP as a fallback).</li><li><code>webp</code>: Generate images in Google WebP format. Set the quality to <code>100</code> to get the WebP lossless format.</li><li><code>json</code>: Instead of generating an image, outputs information about the image in JSON format. The JSON object will contain data such as image size (before and after resizing), source image’s MIME type, and file size.</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>format</span><span class=o>=</span><span class=nx>auto</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>format</span><span class=o>:</span> <span class=s2>&#34;avif&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><p>For the <code>format:auto</code> option to work with a custom Worker, you need to parse the <code>Accept</code> header. Refer to <a href=/images/image-resizing/resize-with-workers/#an-example-worker class=DocsMarkdown--link><span class=DocsMarkdown--link-content>this example Worker</span></a> for a complete overview of how to set up an Image Resizing Worker.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Custom</span> <span class=nx>Worker</span> <span class=k>for</span> <span class=nx>Image</span> <span class=nx>Resizing</span> <span class=kd>with</span> <span class=sb>`format:auto`</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>accept</span> <span class=o>=</span> <span class=nx>request</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;accept&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>image</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=sr>/image\/avif/</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=nx>accept</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>image</span><span class=p>.</span><span class=nx>format</span> <span class=o>=</span> <span class=s2>&#34;avif&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=sr>/image\/webp/</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=nx>accept</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>image</span><span class=p>.</span><span class=nx>format</span> <span class=o>=</span> <span class=s2>&#34;webp&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=p>{</span><span class=nx>cf</span><span class=o>:</span><span class=p>{</span><span class=nx>image</span><span class=p>}});</span>
</span></span></code></pre></div><h4 id=gamma><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#gamma>&#8203;​</a></span>
<span><code>gamma</code></span></h4><p>Increase exposure by a factor. A value of <code>1.0</code> equals no change, a value of <code>0.5</code> darkens the image, and a value of <code>2.0</code> lightens the image. <code>0</code> is ignored. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>gamma</span><span class=o>=</span><span class=mf>0.5</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>gamma</span><span class=o>:</span> <span class=mf>0.5</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=gravity><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#gravity>&#8203;​</a></span>
<span><code>gravity</code></span></h4><p>When cropping with <code>fit: "cover"</code> and <code>fit: "crop"</code>, this parameter defines the side or point that should not be cropped. Available options are:</p><ul><li><code>auto</code><br>Selects focal point based on saliency detection (using maximum symmetric surround algorithm). Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>gravity</span><span class=o>=</span><span class=nx>auto</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>gravity</span><span class=o>:</span> <span class=s2>&#34;auto&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><p><code>side</code><br>A side (<code>"left"</code>, <code>"right"</code>, <code>"top"</code>, <code>"bottom"</code>) or coordinates specified on a scale from <code>0.0</code> (top or left) to <code>1.0</code> (bottom or right), <code>0.5</code> being the center. The X and Y coordinates are separated by lowercase <code>x</code> in the URL format. For example, <code>0x1</code> means left and bottom, <code>0.5x0.5</code> is the center, <code>0.5x0.33</code> is a point in the top third of the image.</p><p>For the Workers integration, use an object <code>{x, y}</code> to specify coordinates. It contains focal point coordinates in the original image expressed as fractions ranging from <code>0.0</code> (top or left) to <code>1.0</code> (bottom or right), with <code>0.5</code> being the center. <code>{fit: "cover", gravity: {x:0.5, y:0.2}}</code> will crop each side to preserve as much as possible around a point at 20% of the height of the source image. Example:</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>gravity</span><span class=o>=</span><span class=nx>left</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>or</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>gravity</span><span class=o>=</span><span class=mh>0x1</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>gravity</span><span class=o>:</span> <span class=s2>&#34;right&#34;</span><span class=p>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>or</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>gravity</span><span class=o>:</span> <span class=p>{</span><span class=nx>x</span><span class=o>:</span><span class=mf>0.5</span><span class=p>,</span> <span class=nx>y</span><span class=o>:</span><span class=mf>0.2</span><span class=p>}}}</span>
</span></span></code></pre></div><h4 id=height><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#height>&#8203;​</a></span>
<span><code>height</code></span></h4><p>Specifies maximum height of the image in pixels. Exact behavior depends on the <code>fit</code> mode (described below). Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>height</span><span class=o>=</span><span class=mi>250</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>height</span><span class=o>:</span> <span class=mi>250</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=metadata><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#metadata>&#8203;​</a></span>
<span><code>metadata</code></span></h4><p>Controls amount of invisible metadata (EXIF data) that should be preserved. Color profiles and EXIF rotation are applied to the image even if the metadata is discarded. Note that if the Polish feature is enabled, all metadata may have been removed already and this option will have no effect. Options are:</p><ul><li><code>keep</code><br>Preserves most of EXIF metadata, including GPS location if present. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>metadata</span><span class=o>=</span><span class=nx>keep</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>metadata</span><span class=o>:</span> <span class=s2>&#34;keep&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><code>copyright</code><br>Discard all metadata except EXIF copyright tag. This is the default behavior for JPEG images. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>metadata</span><span class=o>=</span><span class=nx>copyright</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>metadata</span><span class=o>:</span> <span class=s2>&#34;copyright&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><ul><li><code>none</code><br>Discard all invisible EXIF metadata. Currently, WebP and PNG output formats always discard metadata. Example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>metadata</span><span class=o>=</span><span class=nx>none</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>metadata</span><span class=o>:</span> <span class=s2>&#34;none&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=onerrorredirect><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#onerrorredirect>&#8203;​</a></span>
<span><code>onerror=redirect</code></span></h4><aside class=DocsMarkdown--aside role=note data-type=note><div class=DocsMarkdown--aside-header>Note</div>At the moment, this setting is ignored by Cloudflare Images.</aside><p>In case of a fatal error that prevents the image from being resized, redirects to the unresized source image URL. This may be useful in case some images require user authentication and cannot be fetched anonymously via Worker. This option should not be used if there is a chance the source image is very large. This option is ignored if the image is from another domain, but you can use it with subdomains. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>onerror</span><span class=o>=</span><span class=nx>redirect</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>onerror</span><span class=o>:</span> <span class=s2>&#34;redirect&#34;</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=quality><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#quality>&#8203;​</a></span>
<span><code>quality</code></span></h4><aside class=DocsMarkdown--aside role=note data-type=note><div class=DocsMarkdown--aside-header>Note</div>At the moment, this setting is ignored by Cloudflare Images.</aside><p>Specifies quality for images in JPEG, WebP, and AVIF formats. The quality is in a 1-100 scale, but useful values are between <code>50</code> (low quality, small file size) and <code>90</code> (high quality, large file size). <code>85</code> is the default. When using the PNG format, an explicit quality setting allows use of PNG8 (palette) variant of the format. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>quality</span><span class=o>=</span><span class=mi>50</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>quality</span><span class=o>:</span> <span class=mi>50</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=rotate><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#rotate>&#8203;​</a></span>
<span><code>rotate</code></span></h4><p>Number of degrees (<code>90</code>, <code>180</code>, or <code>270</code>) to rotate the image by. <code>width</code> and <code>height</code> options refer to axes after rotation. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>rotate</span><span class=o>=</span><span class=mi>90</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>rotate</span><span class=o>:</span> <span class=mi>90</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=sharpen><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#sharpen>&#8203;​</a></span>
<span><code>sharpen</code></span></h4><p>Specifies strength of sharpening filter to apply to the image. The value is a floating-point number between <code>0</code> (no sharpening, default) and <code>10</code> (maximum). <code>1</code> is a recommended value for downscaled images. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>sharpen</span><span class=o>=</span><span class=mi>2</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>sharpen</span><span class=o>:</span> <span class=mi>2</span><span class=p>}}</span>
</span></span></code></pre></div><h4 id=trim><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#trim>&#8203;​</a></span>
<span><code>trim</code></span></h4><p>Specifies a number of pixels to cut off on each side. Allows removal of borders or cutting out a specific fragment of an image. Trimming is performed before resizing or rotation. Takes <code>dpr</code> into account. For Image Resizing and Cloudflare Images, use as four numbers in pixels separated by a semicolon, in the form of <code>top;right;bottom;left</code>. For the Workers integration, specify an object with four properties: <code>{top, right, bottom, left}</code>. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>trim</span><span class=o>=</span><span class=mi>20</span><span class=p>;</span><span class=mi>30</span><span class=p>;</span><span class=mi>20</span><span class=p>;</span><span class=mi>0</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>trim</span><span class=o>:</span> <span class=p>{</span><span class=s2>&#34;top&#34;</span><span class=o>:</span> <span class=mi>12</span><span class=p>,</span>  <span class=s2>&#34;right&#34;</span><span class=o>:</span> <span class=mi>78</span><span class=p>,</span> <span class=s2>&#34;bottom&#34;</span><span class=o>:</span> <span class=mi>34</span><span class=p>,</span> <span class=s2>&#34;left&#34;</span><span class=o>:</span> <span class=mi>56</span><span class=p>,}}}</span>
</span></span></code></pre></div><h4 id=width><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#width>&#8203;​</a></span>
<span><code>width</code></span></h4><p>Specifies maximum width of the image in pixels. Exact behavior depends on the <code>fit</code> mode (described below). Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>URL</span> <span class=nx>format</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>width</span><span class=o>=</span><span class=mi>250</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>header</span><span class=o>:</span> <span class=nx>Workers</span>
</span></span><span class=line><span class=cl><span class=o>---</span>
</span></span><span class=line><span class=cl><span class=nx>cf</span><span class=o>:</span> <span class=p>{</span><span class=nx>image</span><span class=o>:</span> <span class=p>{</span><span class=nx>width</span><span class=o>:</span> <span class=mi>250</span><span class=p>}}</span>
</span></span></code></pre></div></article></div></main><footer class=DocsFooter><div class=DocsFooter--content><div class=DocsFooterResources><span class=DocsFooter--content-additional-wrapper><a href="https://dash.cloudflare.com/?to=/:account/images" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare Dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://discord.com/channels/595317990191398933/973591562615390228 class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Discord</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://community.cloudflare.com/c/developers/images class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Community</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://www.cloudflare.com/learning/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Learning Center</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href="https://dash.cloudflare.com/?to=/:account/support" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Support Portal</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span></div><div><span class=DocsFooter--edit-on-gh-link-wrapper><a href=https://github.com/panthere2k/panthere2k.github.io/blob/content/content/images/cloudflare-images/transform/flexible-variants.md class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Edit on GitHub</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-time>Updated <time class=relative datetime=2023-01-02T09:58:19+09:00 title=2023-01-02>January 2, 2023</time></span></div></div></footer></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PKQFGQB" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-PKQFGQB")</script><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style></noscript><script defer src=https://unpkg.com/littlefoot/dist/littlefoot.js type=application/javascript></script>
<script type=application/javascript>document.addEventListener("DOMContentLoaded",()=>littlefoot.default())</script></body></html>
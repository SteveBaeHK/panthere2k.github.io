<!doctype html><html lang=en theme=light is-docs-page js-focus-visible-polyfill-available><head><meta charset=utf-8><title>Get started guide · Cloudflare Queues</title><meta http-equiv=cleartype content="on"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=application-name content="Get started guide · Cloudflare Queues"><meta name=msapplication-tap-highlight content="no"><meta name=apple-mobile-web-app-title content="Get started guide · Cloudflare Queues"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=apple-mobile-web-app-capable content="yes"><meta name=mobile-web-app-capable content="yes"><meta name=theme-color content="#f38020"><meta name=description content="Reliably send and receive messages without the egress fees."><meta property="og:image" content="https://panthere2k.github.io/dev-products-preview.png"><meta property="og:title" content="Get started guide · Cloudflare Queues"><meta property="og:description" content="Reliably send and receive messages without the egress fees."><meta property="og:type" content="website"><meta name=twitter:title content="Get started guide · Cloudflare Queues"><meta name=twitter:image content="https://panthere2k.github.io/dev-products-preview.png"><meta name=twitter:description content="Reliably send and receive messages without the egress fees."><meta name=twitter:creator content="@cloudflare"><meta name=twitter:card content="summary_large_image"><meta name=pcx_content_type content="get-started"><link rel=icon href=/favicon-32x32.png><link rel=canonical href=https://panthere2k.github.io/queues/get-started/><link rel=sitemap href=/sitemap.xml type=application/xml><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon sizes=48x48 href=/icons/icon-48x48.png><link rel=apple-touch-icon sizes=72x72 href=/icons/icon-72x72.png><link rel=apple-touch-icon sizes=96x96 href=/icons/icon-96x96.png><link rel=apple-touch-icon sizes=144x144 href=/icons/icon-144x144.png><link rel=apple-touch-icon sizes=192x192 href=/icons/icon-192x192.png><link rel=apple-touch-icon sizes=256x256 href=/icons/icon-256x256.png><link rel=apple-touch-icon sizes=384x384 href=/icons/icon-384x384.png><link rel=apple-touch-icon sizes=512x512 href=/icons/icon-512x512.png><script src=/search.redirect.min.6828ce878577fe91120d67814d68c0d8.js defer></script><link rel="stylesheet preconnect" href=/style.css><script>(function(){let s=!1,e,n;document.readyState!=="loading"?o():addEventListener("DOMContentLoaded",o),e=document.querySelector("#ThemeToggle"),s=!e;function t(n){try{let o=n?"dark":"light";document.documentElement.setAttribute("theme",o),localStorage.theme=JSON.stringify({theme:o}),e?(e.checked=n,s=!1):s&&setTimeout(t,1,n)}catch{}}function o(){e=e||document.querySelector("#ThemeToggle"),e.addEventListener("change",()=>t(!!e.checked)),addEventListener("keydown",n=>{n.target===document.body&&n.which===68&&n.shiftKey&&(n.preventDefault(),t(!e.checked))})}try{n=window.matchMedia("(prefers-color-scheme:dark)"),n.onchange=e=>t(e.matches)}catch{}try{let e=localStorage.theme,s=e&&JSON.parse(e);t(s?/dark/.test(s.theme):!!(n&&n.matches))}catch{}})()</script><script src=/main.min.c2a5e976c412695a3d9389cba84aa5bd.js defer></script>
<script data-source=docs defer src=https://feedback.developers.cloudflare.com/sdk.js></script>
<link rel=preload href=https://feedback.developers.cloudflare.com/sdk.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://feedback.developers.cloudflare.com/sdk.css></noscript></head><body><div class=DocsPage><div><a class=skip-link href=#main>Skip to content</a></div><div class=DocsMobileHeader><a class="DocsMobileHeader--cloudflare-logo-link Link Link-without-underline" href=/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsMobileTitleHeader><a aria-current=page class="DocsMobileTitleHeader--logo-link Link Link-without-underline" href=/queues/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><span title="Cloudflare Queues logo"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><path d="M11.154 19.894 5.33 14.21l-1.612 1.65 2.656 2.594H1.942a1.442 1.442.0 100 2.884h4.433L3.72 23.927l1.61 1.653 5.823-5.685zm28.352.0-5.823-5.685-1.612 1.65 2.656 2.594h-4.433a1.442 1.442.0 100 2.884h4.433l-2.655 2.591 1.611 1.651 5.823-5.685z"/><rect width="23.07" height="2.884" x="7.911" y="7" rx="1.442"/><rect width="23.07" height="2.884" x="7.911" y="30.07" rx="1.442"/><path d="M13.679 14.21c.796.0 1.442.645 1.442 1.441v8.651a1.442 1.442.0 11-2.884.0v-8.65c0-.797.646-1.443 1.442-1.443zm5.767.0c.797.0 1.442.645 1.442 1.441v8.651a1.442 1.442.0 11-2.884.0v-8.65c0-.797.646-1.443 1.442-1.443zm5.768.0c.796.0 1.442.645 1.442 1.441v8.651a1.442 1.442.0 11-2.884.0v-8.65c0-.797.645-1.443 1.442-1.443z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:6>Queues</span></span></div></a><button class="Button DocsMobileTitleHeader--sidebar-toggle-button">
<span class=DocsMobileTitleHeader--sidebar-toggle-button-icon aria-hidden=true><svg viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" role="img" aria-labelledby="title-1332672649688018" xmlns="http://www.w3.org/2000/svg"><title id="title-1332672649688018">Navigation menu icon</title><path data-index="1" d="M5 7h10" transform-origin="10 7"/><path data-index="2" d="M5 10h10" transform-origin="10 10"/><path data-index="3" d="M5 13h10" transform-origin="10 13"/></svg><span is-visually-hidden>Open external link</span></span></button></div><div class=DocsMobileNavBackdrop></div><div class=DocsSidebar><div class=DocsSidebar--sections><div class="DocsSidebar--section DocsSidebar--header-section"><a class="DocsSidebar--cloudflare-logo-link DocsSidebar--link" href=/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsSidebar--section-separator></div><div class="DocsSidebar--section DocsSidebar--docs-title-section"><a aria-current=page class="DocsSidebar--docs-title-logo-link DocsSidebar--link" href=/queues/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><span title="Cloudflare Queues logo"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><path d="M11.154 19.894 5.33 14.21l-1.612 1.65 2.656 2.594H1.942a1.442 1.442.0 100 2.884h4.433L3.72 23.927l1.61 1.653 5.823-5.685zm28.352.0-5.823-5.685-1.612 1.65 2.656 2.594h-4.433a1.442 1.442.0 100 2.884h4.433l-2.655 2.591 1.611 1.651 5.823-5.685z"/><rect width="23.07" height="2.884" x="7.911" y="7" rx="1.442"/><rect width="23.07" height="2.884" x="7.911" y="30.07" rx="1.442"/><path d="M13.679 14.21c.796.0 1.442.645 1.442 1.441v8.651a1.442 1.442.0 11-2.884.0v-8.65c0-.797.646-1.443 1.442-1.443zm5.767.0c.797.0 1.442.645 1.442 1.441v8.651a1.442 1.442.0 11-2.884.0v-8.65c0-.797.646-1.443 1.442-1.443zm5.768.0c.796.0 1.442.645 1.442 1.441v8.651a1.442 1.442.0 11-2.884.0v-8.65c0-.797.645-1.443 1.442-1.443z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:6>Queues</span></span></div></a><div class="DocsSidebar--section-more Dropdown" data-expanded=false><button class="DocsSidebar--section-more-button Button" aria-expanded=false><div class=DocsSidebar--section-more-button-icon><svg viewBox="0 0 4 16" stroke="currentcolor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" fill="currentcolor" role="img" aria-labelledby="title-6032186738345315" xmlns="http://www.w3.org/2000/svg"><title id="title-6032186738345315">Dropdown icon</title><path d="M2 2v0m0 6v0m0 6v0z"/></svg><span is-visually-hidden>Queues menu</span></div></button><div class="DocsSidebar--section-more-dropdown Dropdown--dropdown"><ul class=Dropdown--list></ul></div></div></div><div class="DocsSidebar--section DocsSidebar--nav-section" style=position:relative;overflow:hidden;width:100%;height:100%><div style=position:absolute;inset:0;overflow-y:auto;margin-right:0;margin-bottom:0><div class=DocsSidebar--nav-section-shadow style=opacity:0></div><ul class=DocsSidebar--nav><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Overview</span></a></li><li class=DocsSidebar--nav-item is-active><a aria-current=page class=DocsSidebar--nav-link href=/queues/get-started/ is-active><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Guide</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Examples</span>
</button><a class=DocsSidebar--nav-link href=/queues/examples/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Examples</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/examples/send-errors-to-r2/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Using Queues to store data in R2</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Learning</span>
</button><a class=DocsSidebar--nav-link href=/queues/learning/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Learning</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/learning/how-queues-works/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>How Queues Works</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/learning/delivery-guarantees/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Delivery guarantees</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/learning/batching-retries/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Batching and Retries</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/javascript-apis/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>JavaScript APIs</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/configuration/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configuration</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/limits/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Limits</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/pricing/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Pricing</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/queues/changelog/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Changelog</span></a></li></ul></div><div style=position:absolute;height:6px;display:none;right:2px;bottom:2px;left:2px;border-radius:3px><div style=position:relative;display:block;height:100%;cursor:pointer;border-radius:inherit;background-color:rgba(0,0,0,.2)></div></div><div style=position:absolute;width:6px;display:none class="Scrollbars--track Scrollbars--track-vertical"><div style=position:relative;display:block;width:100% class="Scrollbars--thumb Scrollbars--thumb-vertical"></div></div></div><div class=toggleSidebar><button id=toggleSidebarButton style=width:2em;height:2em title="Click to collapse and expand the sidebar navigation"><svg id="toggleSidebarSVG" aria-hidden="true" height="1" width="1" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path id="toggleSidebarSVGPath" d="M15 2a1 1 0 00-1 1v10a1 1 0 002 0V3a1 1 0 00-1-1zm-10.407.993-4.3 4.3a1 1 0 000 1.414l4.3 4.3a1 1 0 001.415-1.416L3.417 9H10a1 1 0 100-2H3.417l2.591-2.591A1 1 0 104.593 2.993z"/></svg></button></div></div><div class=DocsSidebar--shadow></div></div><div class=DocsToolbar><div class=DocsToolbar--search><div class=DocsSearch><div class=DocsSearch--input-wrapper><input type=text id=DocsSearch--input class=DocsSearch--input spellcheck=false autocomplete=false placeholder="Search docs..."><div class=DocsSearch--input-icon><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-9701125841014673" xmlns="http://www.w3.org/2000/svg"><title id="title-9701125841014673">Search icon (depiction of a magnifying glass)</title><path d="M11.999 10.585l3.458 3.458a1 1 0 01-1.414 1.414L10.585 12a6.5 6.5.0 111.414-1.414zM6.75 11.5a4.75 4.75.0 100-9.5 4.75 4.75.0 000 9.5z"/></svg></div><button disabled class=slashPlaceholder title="Press '/' to focus on the search bar" aria-label="Forward slash keyboard shortcut" tabindex=-1 type=button><div style=margin-top:-1px>/</span></div></button></div></div></div><div class=DocsToolbar--tools><button data-feedback=true class="DocsToolbar--feedback Button Button-is-docs-secondary">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17"><path d="M14 2.5H2l-.5.5v11.165l.863.345 2.852-3.01H14l.5-.5V3l-.5-.5zm-.5 8H4.785L2.5 12.911V3.5h11v7z" fill="currentcolor"/><path d="M12.5 5.003h-9v1h9v-1zm0 2.497h-9v1h9v-1z" fill="currentcolor"/></svg>Give Feedback</button><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--tools-icon-item><div class=Tooltip---root><div class=DocsToolbar--tools-icon-item-content><a class="Link Link-without-underline" href=https://github.com/cloudflare/cloudflare-docs><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-6991762763429039" xmlns="http://www.w3.org/2000/svg"><title id="title-6991762763429039">GitHub icon</title><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z" fill-rule="evenodd"/></svg></a></div><span class=Tooltip role=tooltip position=bottom-end>Visit Queues on GitHub</span></div></div><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--theme-toggle><div class=Tooltip---root><div class=ThemeToggle><input type=checkbox id=ThemeToggle class=ThemeToggle--input>
<label class=ThemeToggle--toggle for=ThemeToggle><div class=ThemeToggle--toggle-handle></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--sun"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-8812071124069258" xmlns="http://www.w3.org/2000/svg"><title id="title-8812071124069258">Light theme icon (depiction of a sun)</title><path d="M7.5 11.465a3.482 3.482.0 01-1.596-.662L4.11 12.596a.5.5.0 01-.707-.707l1.793-1.793A3.482 3.482.0 014.535 8.5H2a.5.5.0 010-1h2.535a3.482 3.482.0 01.662-1.596L3.404 4.11a.5.5.0 01.707-.707l1.793 1.793A3.482 3.482.0 017.5 4.535V2a.5.5.0 011 0v2.535a3.482 3.482.0 011.596.662l1.793-1.793a.5.5.0 01.707.707l-1.793 1.793c.343.458.577 1.003.662 1.596H14a.5.5.0 110 1h-2.535a3.482 3.482.0 01-.662 1.596l1.793 1.793a.5.5.0 01-.707.707l-1.793-1.793a3.482 3.482.0 01-1.596.662V14a.5.5.0 11-1 0v-2.535z"/></svg></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--moon"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-5971296394189265" xmlns="http://www.w3.org/2000/svg"><title id="title-5971296394189265">Dark theme icon (depiction of a moon)</title><path d="M7.067 3.087a5 5 0 005.466 7.026A5 5 0 117.067 3.087z"/></svg></div></label><span class=Tooltip role=tooltip position=bottom-end>Set theme to dark (⇧+D)</span></div></div></div></div></div><main class=DocsBody><div class=DocsBody--sidebar with-styled-webkit-scrollbars><div class=DocsBody--sidebar-content-scroll-fade></div><div class=DocsBody--sidebar-content><ul class=DocsTableOfContents hidden><li><a class=DocsTableOfContents-link href=#docs-content>↑ Top</a></li></ul></nav></div></div><div id=docs-content data-reach-skip-nav-content></div><div class=DocsContent id=main page-type=document><article class=DocsMarkdown><h1 id=get-started-guide>Get started guide</h1><p>Cloudflare Queues is a flexible messaging queue that allows you to queue messages for asynchronous processing. By following this guide, you will create your first queue, a Worker to publish messages to that queue, and a consumer Worker to consume messages from that queue.</p><h2 id=prerequisite-create-a-cloudflare-account><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#prerequisite-create-a-cloudflare-account>&#8203;​</a></span>
<span>Prerequisite: Create a Cloudflare account</span></h2><p>In order to use Queues, you need a <a href=/fundamentals/account-and-billing/account-setup/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Cloudflare account</span></a>. If you already have an account, skip this step.</p><h2 id=1-enable-queues><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#1-enable-queues>&#8203;​</a></span>
<span>1. Enable Queues</span></h2><p>Queues is currently in <a href=https://blog.cloudflare.com/cloudflare-queues-open-beta/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Public Beta</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span>
</span></a>.</p><aside class=DocsMarkdown--aside role=note data-type=note><p>Before you can use Queues, you must enable it via <a href="https://dash.cloudflare.com/?to=/:account/workers/queues" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>the Cloudflare dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span>
</span></a>. You need a Paid Workers plan to enable Queues.</p></aside><p>To enable Queues:</p><ol><li>Log in to the <a href=https://dash.cloudflare.com class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span>
</span></a>.</li><li>Go to <strong>Workers</strong> > <a href="https://dash.cloudflare.com/?to=/:account/workers/queues" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content><strong>Queues</strong></span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span>
</span></a>.</li><li>Select <strong>Enable Queues Beta</strong>.</li></ol><p>Queues is included in the monthly subscription cost of your Paid Workers plan, and charges based on operations against your queues. Refer to <a href=/queues/pricing/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Pricing</span></a> for more details.</p><h2 id=2-install-wrangler><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#2-install-wrangler>&#8203;​</a></span>
<span>2. Install Wrangler</span></h2><p>You will use <a href=/workers/wrangler/install-and-update/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Wrangler</span></a>, a command-line tool for building Cloudflare Workers, to access Queues.</p><p>To install Wrangler, ensure you have <a href=https://docs.npmjs.com/getting-started class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content><code>npm</code></span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a> and <a href=https://nodejs.org/en/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content><code>Node.js</code></span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a> installed.</p><p>Use a Node version manager like <a href=https://volta.sh/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Volta</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a> or <a href=https://github.com/nvm-sh/nvm class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>nvm</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a> to avoid permission issues and change Node.js versions. Wrangler requires a Node version of <code>16.13.0</code> or later. Install Wrangler by running:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ npm install -g wrangler
</span></span></code></pre></div><p>or install with <code>yarn</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ yarn global add wrangler
</span></span></code></pre></div><p>Queues requires Wrangler version <code>2.2.1</code> or higher. Run <code>wrangler version</code> to check your version:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>wrangler --version
</span></span><span class=line><span class=cl>2.2.1
</span></span></code></pre></div><p>With Wrangler installed, you will now create a queue.</p><h2 id=3-create-a-queue><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#3-create-a-queue>&#8203;​</a></span>
<span>3. Create a queue</span></h2><p>To use queues, you need to create at least one queue to publish messages to and consume messages from.</p><p>To create a queue, run:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>wrangler queues create &lt;MY_FIRST_QUEUE&gt;
</span></span></code></pre></div><p>Choose a name that is descriptive and relates to the types of messages you intend to use this queue for. Descriptive queue names look like: <code>debug-logs</code>, <code>user-clickstream-data</code>, or <code>password-reset-prod</code>.</p><p>Queue names must be 1 to 63 characters long. Queue names cannot contain special characters outside dashes (<code>-</code>) and underscores (<code>_</code>).</p><p>You cannot change your queue name after you have set it. After you create your queue, you will create a Worker to access it.</p><h2 id=4-create-a-worker-project><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#4-create-a-worker-project>&#8203;​</a></span>
<span>4. Create a Worker project</span></h2><p>You will access your queue from a Worker, the producer Worker. You must create at least one producer Worker to publish messages onto your queue.</p><p>To create a producer Worker, run:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ wrangler init &lt;WORKER_NAME&gt;
</span></span></code></pre></div><p>In your terminal, you will be asked a series of questions related to your project. For the question <code>Would you like to use TypeScript? (y/n)</code>, indicate <code>y</code>. This will create an <code>index.ts</code> file in your project directory&rsquo;s <code>src</code> folder where you will write the code needed for your Worker to access your queue.</p><h3 id=bind-your-producer-worker-to-your-queue><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#bind-your-producer-worker-to-your-queue>&#8203;​</a></span>
<span>Bind your producer Worker to your queue</span></h3><p>In order to expose your queue to the code inside your Worker, you need to connect your queue to your Worker by creating a binding. <a href=/workers/platform/bindings/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Bindings</span></a> allow your Worker to access resources, such as Queues, on the Cloudflare developer platform.</p><p>To create a binding, open your newly generated <code>wrangler.toml</code> configuration file and add the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>queues</span><span class=p>.</span><span class=nx>producers</span><span class=p>]]</span>
</span></span><span class=line><span class=cl> <span class=nx>queue</span> <span class=p>=</span> <span class=s2>&#34;YOUR_QUEUE_NAME&#34;</span>
</span></span><span class=line><span class=cl> <span class=nx>binding</span> <span class=p>=</span> <span class=s2>&#34;MY_QUEUE&#34;</span>
</span></span></code></pre></div><p>Replace <code>YOUR_QUEUE_NAME</code> with the name of the queue you created in step 3. Next, replace <code>MY_QUEUE</code> with the name you want for your <code>binding</code>. The binding must be a valid JavaScript variable name. This is the variable you will use to reference this queue in your Worker.</p><h3 id=set-up-your-producer-worker><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#set-up-your-producer-worker>&#8203;​</a></span>
<span>Set up your producer Worker</span></h3><p>You will now configure your producer Worker to create messages to publish to your queue. Your producer Worker will:</p><ol><li>Take a request it receives from the browser.</li><li>Transform the request to JSON format.</li><li>Write the request directly to your queue.</li></ol><p>In your Worker project directory, open the <code>src</code> folder and add the following to your <code>index.ts</code> file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>---</span>
</span></span><span class=line><span class=cl><span class=nx>filename</span><span class=err>:</span> <span class=nx>src</span><span class=err>/</span><span class=nx>index</span><span class=p>.</span><span class=nx>ts</span>
</span></span><span class=line><span class=cl><span class=nx>highlight</span><span class=err>:</span> <span class=p>[</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>---</span>
</span></span><span class=line><span class=cl><span class=nx>export</span> <span class=nx>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>async</span> <span class=nx>fetch</span><span class=err>(</span><span class=nx>request</span><span class=err>:</span> <span class=nx>Request</span><span class=p>,</span> <span class=nx>env</span><span class=err>:</span> <span class=nx>Environment</span><span class=err>):</span> <span class=nx>Promise</span><span class=err>&lt;</span><span class=nx>Response</span><span class=err>&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=nx>let</span> <span class=nx>log</span> <span class=p>=</span> <span class=nx>await</span> <span class=nx>request</span><span class=p>.</span><span class=nx>json</span><span class=err>();</span>
</span></span><span class=line><span class=cl>   <span class=nx>await</span> <span class=nx>env</span><span class=p>.</span><span class=err>&lt;</span><span class=nx>MY_QUEUE</span><span class=err>&gt;</span><span class=p>.</span><span class=nx>send</span><span class=err>(</span><span class=nx>log</span><span class=err>);</span>
</span></span><span class=line><span class=cl>   <span class=nx>return</span> <span class=nx>new</span> <span class=nx>Response</span><span class=err>(</span><span class=s2>&#34;Success!&#34;</span><span class=err>);</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></div><p>Replace <code>MY_QUEUE</code> with the name you have set for your binding from your <code>wrangler.toml</code>.</p><p>If this write fails, your Worker will return an error (raise an exception). If this write works, it will return <code>Success</code> back with a HTTP <code>200</code> status code to the browser.</p><p>In a production application, you would likely use a <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content><code>try-catch</code></span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a> statement to catch the exception and handle it directly (for example, return a custom error or even retry).</p><h3 id=publish-your-producer-worker><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#publish-your-producer-worker>&#8203;​</a></span>
<span>Publish your producer Worker</span></h3><p>With your <code>wrangler.toml</code> file and <code>index.ts</code> file configured, you are ready to publish your producer Worker. To publish your producer Worker, run:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ wrangler publish
</span></span></code></pre></div><p>You should see output that resembles the below, with a <code>*.workers.dev</code> URL by default.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Uploaded &lt;YOUR-WORKER-NAME&gt; (0.76 sec)
</span></span><span class=line><span class=cl>Published &lt;YOUR-WORKER-NAME&gt; (0.29 sec)
</span></span><span class=line><span class=cl>  https://&lt;YOUR-WORKER-NAME&gt;.&lt;YOUR-ACCOUNT&gt;.workers.dev
</span></span></code></pre></div><p>Copy your <code>*.workers.dev</code> subdomain and paste it into a new browser tab. Refresh the page a few times to start publishing requests to your queue. Your browser should return the <code>Success</code> response after writing the request to the queue each time.</p><p>You have built a queue and a producer Worker to publish messages to the queue. You will now create a consumer Worker to consume the messages published to your queue. Without a consumer Worker, the messages will stay on the queue until they expire, which defaults to four (4) days.</p><h2 id=5-create-your-consumer-worker><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#5-create-your-consumer-worker>&#8203;​</a></span>
<span>5. Create your consumer Worker</span></h2><p>A consumer Worker receives messages from your queue. When the consumer Worker receives your queue&rsquo;s messages, it can write them to another source, such as a logging console or storage objects.</p><p>In this guide, you will create a consumer Worker and use it to log and inspect the messages with <a href=/workers/wrangler/commands/#tail class=DocsMarkdown--link><span class=DocsMarkdown--link-content><code>wrangler tail</code></span></a>. You will create your consumer Worker in the same Worker project that you created your producer Worker.</p><p>To create a consumer Worker, open your <code>index.ts</code> file and add the following <code>queue</code> handler to your existing <code>fetch</code> handler:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>filename: src/index.ts
</span></span><span class=line><span class=cl>highlight: <span class=o>[</span>4<span class=o>]</span>
</span></span><span class=line><span class=cl>---
</span></span><span class=line><span class=cl><span class=nb>export</span> default <span class=o>{</span>
</span></span><span class=line><span class=cl> async fetch<span class=o>(</span>request: Request, env: Environment<span class=o>)</span>: Promise&lt;Response&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>   <span class=nb>let</span> <span class=nv>log</span> <span class=o>=</span> await request.json<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   await env.&lt;MY_QUEUE&gt;.send<span class=o>(</span>log<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> new Response<span class=o>(</span><span class=s2>&#34;Success!&#34;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span><span class=line><span class=cl> async queue<span class=o>(</span>batch: MessageBatch&lt;Error&gt;, env: Environment<span class=o>)</span>: Promise&lt;void&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>   <span class=nb>let</span> <span class=nv>messages</span> <span class=o>=</span> JSON.stringify<span class=o>(</span>batch.messages<span class=o>)</span>
</span></span><span class=line><span class=cl>   console.log<span class=o>(</span><span class=sb>`</span>consumed from our queue: <span class=si>${</span><span class=nv>messages</span><span class=si>}</span><span class=sb>`</span><span class=o>)</span>
</span></span><span class=line><span class=cl> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>Replace <code>MY_QUEUE</code> with the name you have set for your binding from your <code>wrangler.toml</code>.</p><p>Every time messages are published to the queue, your consumer Worker&rsquo;s <code>queue</code> handler (<code>async queue</code>) is called and it is passed one or more messages.</p><p>In this example, your consumer Worker transforms the queue&rsquo;s JSON formatted message back to a string and logs that output. In a real world application, your consumer Worker can be configured to write messages to object storage (such as <a href=/r2/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>R2</span></a>), write to a database (like <a href=/d1/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>D1</span></a>), or further process messages before calling an external API, such as an <a href=/workers/tutorials/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>email API</span></a> or a data warehouse with your legacy cloud provider.</p><h3 id=connect-the-consumer-worker-to-your-queue><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#connect-the-consumer-worker-to-your-queue>&#8203;​</a></span>
<span>Connect the consumer Worker to your queue</span></h3><p>After you have configured your consumer Worker, you are ready to connect it to your queue.</p><p>Each queue can only have one consumer Worker connected to it. If you try to connect multiple consumers to the same queue, you will encounter an error when attempting to publish that Worker.</p><p>To connect your queue to your consumer Worker, open your <code>wrangler.toml</code> file and add this to the bottom:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>queues</span><span class=p>.</span><span class=nx>consumers</span><span class=p>]]</span>
</span></span><span class=line><span class=cl> <span class=nx>queue</span> <span class=p>=</span> <span class=s2>&#34;&lt;YOUR_QUEUE_NAME&gt;&#34;</span>
</span></span><span class=line><span class=cl> <span class=c># Required: this should match the name of the queue you created in step 3.</span>
</span></span><span class=line><span class=cl> <span class=c># If you misspell the name, you will receive an error when attempting to publish your Worker.</span>
</span></span><span class=line><span class=cl> <span class=nx>max_batch_size</span> <span class=p>=</span> <span class=mi>10</span> <span class=c># optional: defaults to 10</span>
</span></span><span class=line><span class=cl> <span class=nx>max_batch_timeout</span> <span class=p>=</span> <span class=mi>5</span> <span class=c># optional: defaults to 5 seconds</span>
</span></span></code></pre></div><p>Replace <code>YOUR_QUEUE_NAME</code> with the queue you created in step 3.</p><p>In your consumer Worker, you are using queues to auto batch messages using the <code>max_batch_size</code> option and the <code>max_batch_timeout</code> option. The consumer Worker will receive messages in batches of <code>10</code> or every <code>5</code> seconds, whichever happens first.</p><p><code>max_batch_size</code> (defaults to 10) helps to reduce the amount of times your consumer Worker needs to be called. Instead of being called for every message, it will only be called after 10 messages have entered the queue.</p><p><code>max_batch_timeout</code> (defaults to 5 seconds) helps to reduce wait time. If the producer Worker is not sending up to 10 messages to the queue for the consumer Worker to be called, the consumer Worker will be called every 10 seconds to receive messages that are waiting in the queue.</p><h3 id=publish-your-consumer-worker><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#publish-your-consumer-worker>&#8203;​</a></span>
<span>Publish your consumer Worker</span></h3><p>With your <code>wrangler.toml</code> file and <code>index.ts</code> file configured, publish your consumer Worker by running:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ wrangler publish
</span></span></code></pre></div><h2 id=6-read-messages-from-your-queue><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#6-read-messages-from-your-queue>&#8203;​</a></span>
<span>6. Read messages from your queue</span></h2><p>After you set up consumer Worker, you can read messages from the queue.</p><p>Run <code>wrangler tail</code> to start waiting for our consumer to log the messages it receives:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ wrangler tail
</span></span></code></pre></div><p>With <code>wrangler tail</code> running, open the Worker URL you opened in step 4.</p><p>You should receive a <code>Success</code> message in your browser window.</p><p>If you receive a <code>Success</code> message, refresh the URL a few times to generate messages and push them onto the queue.</p><p>With <code>wrangler tail</code> running, your consumer Worker will start logging the requests generated by refreshing.</p><p>If you refresh less than 10 times, it may take a few seconds for the messages to appear because batch timeout is configured for 10 seconds. After 10 seconds, messages should arrive in your terminal.</p><p>If you get errors when you refresh, check that the queue name you created in step 3 and the queue you referenced in your <code>wrangler.toml</code> file is the same. You should ensure that your producer Worker is returning <code>Success</code> and is not returning an error.</p><p>By completing this guide, you have now created a queue, a producer Worker that publishes messages to that queue, and a consumer Worker that consumes those messages from it.</p><h2 id=related-resources><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#related-resources>&#8203;​</a></span>
<span>Related resources</span></h2><ul><li>Learn more about <a href=/workers/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Cloudflare Workers</span></a> and the applications you can build on Cloudflare.</li></ul></article></div></main><footer class=DocsFooter><div class=DocsFooter--content><div class=DocsFooterResources><span class=DocsFooter--content-additional-wrapper><a href=https://dash.cloudflare.com class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare Dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://discord.com/channels/595317990191398933/1008691665688604783 class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Discord</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://community.cloudflare.com/c/developers/workers/40 class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Community</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://www.cloudflare.com/learning/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Learning Center</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href="https://dash.cloudflare.com/?to=/:account/support" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Support Portal</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span></div><div><span class=DocsFooter--edit-on-gh-link-wrapper><a href=https://github.com/panthere2k/cf-docs/blob/main/content/queues/get-started.md class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Edit on GitHub</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-time>Updated <time class=relative datetime=2023-01-02T09:58:19+09:00 title=2023-01-02>January 2, 2023</time></span></div></div></footer></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PKQFGQB" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-PKQFGQB")</script><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style></noscript><script defer src=https://unpkg.com/littlefoot/dist/littlefoot.js type=application/javascript></script>
<script type=application/javascript>document.addEventListener("DOMContentLoaded",()=>littlefoot.default())</script></body></html>
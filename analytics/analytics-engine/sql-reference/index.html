<!doctype html><html lang=en theme=light is-docs-page js-focus-visible-polyfill-available><head><meta charset=utf-8><title>Workers Analytics Engine SQL Reference · Cloudflare Analytics docs</title><meta http-equiv=cleartype content="on"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=application-name content="Workers Analytics Engine SQL Reference · Cloudflare Analytics docs"><meta name=msapplication-tap-highlight content="no"><meta name=apple-mobile-web-app-title content="Workers Analytics Engine SQL Reference · Cloudflare Analytics docs"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=apple-mobile-web-app-capable content="yes"><meta name=mobile-web-app-capable content="yes"><meta name=theme-color content="#f38020"><meta name=description content="With the GraphQL Analytics API, all of your performance, security, and reliability data is available from one endpoint. And you can select exactly what you need, from one metric for a domain to multiple metrics aggregated for your account."><meta property="og:image" content="https://panthere2k.github.io/core-services-preview.png"><meta property="og:title" content="Workers Analytics Engine SQL Reference · Cloudflare Analytics docs"><meta property="og:description" content="With the GraphQL Analytics API, all of your performance, security, and reliability data is available from one endpoint. And you can select exactly what you need, from one metric for a domain to multiple metrics aggregated for your account."><meta property="og:type" content="website"><meta name=twitter:title content="Workers Analytics Engine SQL Reference · Cloudflare Analytics docs"><meta name=twitter:image content="https://panthere2k.github.io/core-services-preview.png"><meta name=twitter:description content="With the GraphQL Analytics API, all of your performance, security, and reliability data is available from one endpoint. And you can select exactly what you need, from one metric for a domain to multiple metrics aggregated for your account."><meta name=twitter:creator content="@cloudflare"><meta name=twitter:card content="summary_large_image"><meta name=pcx_content_type content="reference"><link rel=icon href=/favicon-32x32.png><link rel=canonical href=https://panthere2k.github.io/analytics/analytics-engine/sql-reference/><link rel=sitemap href=/sitemap.xml type=application/xml><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon sizes=48x48 href=/icons/icon-48x48.png><link rel=apple-touch-icon sizes=72x72 href=/icons/icon-72x72.png><link rel=apple-touch-icon sizes=96x96 href=/icons/icon-96x96.png><link rel=apple-touch-icon sizes=144x144 href=/icons/icon-144x144.png><link rel=apple-touch-icon sizes=192x192 href=/icons/icon-192x192.png><link rel=apple-touch-icon sizes=256x256 href=/icons/icon-256x256.png><link rel=apple-touch-icon sizes=384x384 href=/icons/icon-384x384.png><link rel=apple-touch-icon sizes=512x512 href=/icons/icon-512x512.png><script src=/search.redirect.min.6828ce878577fe91120d67814d68c0d8.js defer></script><link rel="stylesheet preconnect" href=/style.css><script>(function(){let s=!1,e,n;document.readyState!=="loading"?o():addEventListener("DOMContentLoaded",o),e=document.querySelector("#ThemeToggle"),s=!e;function t(n){try{let o=n?"dark":"light";document.documentElement.setAttribute("theme",o),localStorage.theme=JSON.stringify({theme:o}),e?(e.checked=n,s=!1):s&&setTimeout(t,1,n)}catch{}}function o(){e=e||document.querySelector("#ThemeToggle"),e.addEventListener("change",()=>t(!!e.checked)),addEventListener("keydown",n=>{n.target===document.body&&n.which===68&&n.shiftKey&&(n.preventDefault(),t(!e.checked))})}try{n=window.matchMedia("(prefers-color-scheme:dark)"),n.onchange=e=>t(e.matches)}catch{}try{let e=localStorage.theme,s=e&&JSON.parse(e);t(s?/dark/.test(s.theme):!!(n&&n.matches))}catch{}})()</script><script src=/main.min.c2a5e976c412695a3d9389cba84aa5bd.js defer></script>
<script data-source=docs defer src=https://feedback.developers.cloudflare.com/sdk.js></script>
<link rel=preload href=https://feedback.developers.cloudflare.com/sdk.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://feedback.developers.cloudflare.com/sdk.css></noscript></head><body><div class=DocsPage><div><a class=skip-link href=#main>Skip to content</a></div><div class=DocsMobileHeader><a class="DocsMobileHeader--cloudflare-logo-link Link Link-without-underline" href=/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsMobileTitleHeader><a aria-current=page class="DocsMobileTitleHeader--logo-link Link Link-without-underline" href=/analytics/><div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap"><div class=DocsNavLogoLockup--logo><span title="Cloudflare Analytics logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M23.25 39A14.245 14.245.0 0119.5 11.01V7.912A17.25 17.25.0 1040.087 28.5H36.99A14.303 14.303.0 0123.25 39z"/><path d="M24 4.5 22.5 6v18l1.5 1.5h18l1.5-1.5A19.521 19.521.0 0024 4.5zm1.5 18V7.567A16.529 16.529.0 0140.432 22.5H25.5z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:9>Analytics</span></span></div></a><button class="Button DocsMobileTitleHeader--sidebar-toggle-button">
<span class=DocsMobileTitleHeader--sidebar-toggle-button-icon aria-hidden=true><svg viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" role="img" aria-labelledby="title-1332672649688018" xmlns="http://www.w3.org/2000/svg"><title id="title-1332672649688018">Navigation menu icon</title><path data-index="1" d="M5 7h10" transform-origin="10 7"/><path data-index="2" d="M5 10h10" transform-origin="10 10"/><path data-index="3" d="M5 13h10" transform-origin="10 13"/></svg><span is-visually-hidden>Open external link</span></span></button></div><div class=DocsMobileNavBackdrop></div><div class=DocsSidebar><div class=DocsSidebar--sections><div class="DocsSidebar--section DocsSidebar--header-section"><a class="DocsSidebar--cloudflare-logo-link DocsSidebar--link" href=/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><svg viewBox="0 0 48 48" fill="currentcolor" role="img" aria-labelledby="title-27458391960035233" xmlns="http://www.w3.org/2000/svg"><title id="title-27458391960035233">Security365 Docs logomark</title><path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262.0 01-.221-.122.348.348.0 01-.035-.267.396.396.0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503.0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15.0-7.672 2.798-8.931 6.679a4.156 4.156.0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84.0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29.0.304.024.608.059.912.023.146.14.256.28.256h26.488c.151.0.291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zm4.826-7.327c-.128.0-.268.0-.396.012-.093.0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093.0.175.049.222.122a.356.356.0 01.035.267.396.396.0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289.0 00.28-.219 8.654 8.654.0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"/></svg></div><span class=DocsNavLogoLockup--text><span data-text=Cloudflare>Security365</span>
<span data-text=Docs>Docs</span></span></div></a></div><div class=DocsSidebar--section-separator></div><div class="DocsSidebar--section DocsSidebar--docs-title-section"><a aria-current=page class="DocsSidebar--docs-title-logo-link DocsSidebar--link" href=/analytics/><div class=DocsNavLogoLockup><div class=DocsNavLogoLockup--logo><span title="Cloudflare Analytics logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M23.25 39A14.245 14.245.0 0119.5 11.01V7.912A17.25 17.25.0 1040.087 28.5H36.99A14.303 14.303.0 0123.25 39z"/><path d="M24 4.5 22.5 6v18l1.5 1.5h18l1.5-1.5A19.521 19.521.0 0024 4.5zm1.5 18V7.567A16.529 16.529.0 0140.432 22.5H25.5z"/></svg></span></div><span class=DocsNavLogoLockup--text><span class=DocsSidebar--docs-title-text-scaler style=--length:9>Analytics</span></span></div></a><div class="DocsSidebar--section-more Dropdown" data-expanded=false><button class="DocsSidebar--section-more-button Button" aria-expanded=false><div class=DocsSidebar--section-more-button-icon><svg viewBox="0 0 4 16" stroke="currentcolor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" fill="currentcolor" role="img" aria-labelledby="title-6032186738345315" xmlns="http://www.w3.org/2000/svg"><title id="title-6032186738345315">Dropdown icon</title><path d="M2 2v0m0 6v0m0 6v0z"/></svg><span is-visually-hidden>Analytics menu</span></div></button><div class="DocsSidebar--section-more-dropdown Dropdown--dropdown"><ul class=Dropdown--list><li class=Dropdown--item><a class=Dropdown--link href=https://cloudflare.com tabindex=-1>Cloudflare homepage</a></li></ul></div></div></div><div class="DocsSidebar--section DocsSidebar--nav-section" style=position:relative;overflow:hidden;width:100%;height:100%><div style=position:absolute;inset:0;overflow-y:auto;margin-right:0;margin-bottom:0><div class=DocsSidebar--nav-section-shadow style=opacity:0></div><ul class=DocsSidebar--nav><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Overview</span></a></li><li class=DocsSidebar--nav-item is-active-root is-expanded><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Workers Analytics Engine (beta)</span>
</button><a class=DocsSidebar--nav-link href=/analytics/analytics-engine/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Workers Analytics Engine (beta)</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-expanded" style=min-height:0;transition-duration:400ms is-expanded><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/analytics-engine/get-started/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Get started</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/analytics-engine/sql-api/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>SQL API</span></a></li><li class=DocsSidebar--nav-item is-active><a aria-current=page class=DocsSidebar--nav-link href=/analytics/analytics-engine/sql-reference/ is-active><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>SQL Reference</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/analytics-engine/grafana/><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying from Grafana</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Cloudflare Web Analytics</span>
</button><a class=DocsSidebar--nav-link href=/analytics/web-analytics/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cloudflare Web Analytics</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Get started</span>
</button><a class=DocsSidebar--nav-link href=/analytics/web-analytics/getting-started/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Get started</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/getting-started/web-analytics-spa/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Web Analytics for SPAs</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/getting-started/notifications/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Notifications</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Understanding Cloudflare Web Analytics</span>
</button><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Understanding Cloudflare Web Analytics</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/core-web-vitals/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Core Web Vitals</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/data-origin-and-collection/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Data origin and collection</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/dimensions/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Dimensions</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/high-level-metrics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>High-level metrics</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/page-load-time-summary/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Page load time summary</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/understanding-web-analytics/limits/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Limits</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Configuring Cloudflare Web Analytics</span>
</button><a class=DocsSidebar--nav-link href=/analytics/web-analytics/configuring-web-analytics/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configuring Cloudflare Web Analytics</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/configuring-web-analytics/filters/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Filters</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/configuring-web-analytics/rules/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Rules</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/web-analytics/changelog/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Changelog</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Cloudflare Network Analytics</span>
</button><a class=DocsSidebar--nav-link href=/analytics/network-analytics/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Cloudflare Network Analytics</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/network-analytics/get-started/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Get started</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Understanding Network Analytics</span>
</button><a class=DocsSidebar--nav-link href=/analytics/network-analytics/understand/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Understanding Network Analytics</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/network-analytics/understand/concepts/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Concepts</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/network-analytics/understand/main-dashboard/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Main dashboard</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Configuring Network Analytics</span>
</button><a class=DocsSidebar--nav-link href=/analytics/network-analytics/configure/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configuring Network Analytics</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/network-analytics/configure/time-range/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Adjust the time range</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/network-analytics/configure/displayed-data/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Adjust the displayed data</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/network-analytics/configure/share-export/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Share and export data</span></a></li></ul></div></div></div></div></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: GraphQL Analytics API</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>GraphQL Analytics API</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Get started</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Get started</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Authentication</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/authentication/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Authentication</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=3 style=--depth:3><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/authentication/api-token-auth/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configure an Analytics API token</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/authentication/api-key-auth/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Authenticate with a Cloudflare API key</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/authentication/graphql-client-headers/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Configure GraphQL client endpoint and HTTP headers</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/querying-basics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying basics</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/explore-graphql-schema/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Explore the GraphQL schema</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/compose-graphql-query/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Compose a query in GraphiQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/getting-started/execute-graphql-query/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Execute a GraphQL query with curl</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Features</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Features</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/data-sets/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Datasets (tables)</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Discovery</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/discovery/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Discovery</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=3 style=--depth:3><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/discovery/introspection/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Introspection</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/discovery/settings/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Settings node</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/filtering/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Filtering</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/sorting/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Sorting</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/pagination/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Pagination</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/features/nested-structures/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Nested Structures</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/errors/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Error responses</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/limits/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Limits</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/sampling/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Sampling</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Tutorials</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Tutorials</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/build-your-own-analytics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Build your own Analytics dashboard</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/use-graphql-create-widgets/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Use GraphQL to create widgets</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/export-graphql-to-csv/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Export GraphQL data to CSV</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/querying-access-login-events/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying Access login events with GraphQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/querying-firewall-events/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying Firewall Events with GraphQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/end-customer-analytics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying HTTP events by hostname with GraphQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/querying-magic-firewall-samples/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying Magic Firewall Samples with GraphQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/querying-magic-transit-tunnel-bandwidth-analytics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying Magic Transit tunnel bandwidth analytics with GraphQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/querying-magic-transit-tunnel-healthcheck-results/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying Magic Transit Tunnel Health Check Results with GraphQL</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/tutorials/querying-workers-metrics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Querying Workers Metrics with GraphQL</span></a></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Migration guides</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Migration guides</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=2 style=--depth:2><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/graphql-api-analytics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/zone-analytics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Zone Analytics to GraphQL Analytics</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/zone-analytics-colos/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Zone Analytics Colos Endpoint to GraphQL Analytics</span></a></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex=-1>
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: Network Analytics v1 to Network Analytics v2</span>
</button><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/network-analytics-v2/ tabindex=-1>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Network Analytics v1 to Network Analytics v2</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=3 style=--depth:3><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/network-analytics-v2/differences/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Main differences</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/network-analytics-v2/node-reference/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>NAv2 node reference</span></a></li><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/graphql-api/migration-guides/network-analytics-v2/schema-map/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>NAv1 to NAv2 schema map</span></a></li></ul></div></div></div></div></li></ul></div></div></div></div></li></ul></div></div></div></div></li><li class=DocsSidebar--nav-item><button class="Button DocsSidebar--nav-expand-collapse-button">
<span class=DocsSidebar--nav-expand-collapse-button-content aria-hidden=true></span>
<span is-visually-hidden>Expand: FAQs</span>
</button><a class=DocsSidebar--nav-link href=/analytics/faq/>
<span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>FAQs</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style=min-height:0><div class=DocsSidebar--nav-item-collapse-wrapper><div class=DocsSidebar--nav-item-collapse-wrapperInner><div class=DocsSidebar--nav-item-collapse-content><ul class=DocsSidebar--nav-subnav depth=1 style=--depth:1><li class=DocsSidebar--nav-item><a class=DocsSidebar--nav-link href=/analytics/faq/web-analytics/ tabindex=-1><span class=DocsSidebar--nav-link-highlight></span>
<span class=DocsSidebar--nav-link-text>Web Analytics FAQ</span></a></li></ul></div></div></div></div></li></ul></div><div style=position:absolute;height:6px;display:none;right:2px;bottom:2px;left:2px;border-radius:3px><div style=position:relative;display:block;height:100%;cursor:pointer;border-radius:inherit;background-color:rgba(0,0,0,.2)></div></div><div style=position:absolute;width:6px;display:none class="Scrollbars--track Scrollbars--track-vertical"><div style=position:relative;display:block;width:100% class="Scrollbars--thumb Scrollbars--thumb-vertical"></div></div></div><div class=toggleSidebar><button id=toggleSidebarButton style=width:2em;height:2em title="Click to collapse and expand the sidebar navigation"><svg id="toggleSidebarSVG" aria-hidden="true" height="1" width="1" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path id="toggleSidebarSVGPath" d="M15 2a1 1 0 00-1 1v10a1 1 0 002 0V3a1 1 0 00-1-1zm-10.407.993-4.3 4.3a1 1 0 000 1.414l4.3 4.3a1 1 0 001.415-1.416L3.417 9H10a1 1 0 100-2H3.417l2.591-2.591A1 1 0 104.593 2.993z"/></svg></button></div></div><div class=DocsSidebar--shadow></div></div><div class=DocsToolbar><div class=DocsToolbar--search><div class=DocsSearch><div class=DocsSearch--input-wrapper><input type=text id=DocsSearch--input class=DocsSearch--input spellcheck=false autocomplete=false placeholder="Search docs..."><div class=DocsSearch--input-icon><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-9701125841014673" xmlns="http://www.w3.org/2000/svg"><title id="title-9701125841014673">Search icon (depiction of a magnifying glass)</title><path d="M11.999 10.585l3.458 3.458a1 1 0 01-1.414 1.414L10.585 12a6.5 6.5.0 111.414-1.414zM6.75 11.5a4.75 4.75.0 100-9.5 4.75 4.75.0 000 9.5z"/></svg></div><button disabled class=slashPlaceholder title="Press '/' to focus on the search bar" aria-label="Forward slash keyboard shortcut" tabindex=-1 type=button><div style=margin-top:-1px>/</span></div></button></div></div></div><div class=DocsToolbar--tools><button data-feedback=true class="DocsToolbar--feedback Button Button-is-docs-secondary">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17"><path d="M14 2.5H2l-.5.5v11.165l.863.345 2.852-3.01H14l.5-.5V3l-.5-.5zm-.5 8H4.785L2.5 12.911V3.5h11v7z" fill="currentcolor"/><path d="M12.5 5.003h-9v1h9v-1zm0 2.497h-9v1h9v-1z" fill="currentcolor"/></svg>Give Feedback</button><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--tools-icon-item><div class=Tooltip---root><div class=DocsToolbar--tools-icon-item-content><a class="Link Link-without-underline" href=https://github.com/cloudflare/cloudflare-docs><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-6991762763429039" xmlns="http://www.w3.org/2000/svg"><title id="title-6991762763429039">GitHub icon</title><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z" fill-rule="evenodd"/></svg></a></div><span class=Tooltip role=tooltip position=bottom-end>Visit Analytics on GitHub</span></div></div><div class=DocsToolbar--tools-spacer></div><div class=DocsToolbar--theme-toggle><div class=Tooltip---root><div class=ThemeToggle><input type=checkbox id=ThemeToggle class=ThemeToggle--input>
<label class=ThemeToggle--toggle for=ThemeToggle><div class=ThemeToggle--toggle-handle></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--sun"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-8812071124069258" xmlns="http://www.w3.org/2000/svg"><title id="title-8812071124069258">Light theme icon (depiction of a sun)</title><path d="M7.5 11.465a3.482 3.482.0 01-1.596-.662L4.11 12.596a.5.5.0 01-.707-.707l1.793-1.793A3.482 3.482.0 014.535 8.5H2a.5.5.0 010-1h2.535a3.482 3.482.0 01.662-1.596L3.404 4.11a.5.5.0 01.707-.707l1.793 1.793A3.482 3.482.0 017.5 4.535V2a.5.5.0 011 0v2.535a3.482 3.482.0 011.596.662l1.793-1.793a.5.5.0 01.707.707l-1.793 1.793c.343.458.577 1.003.662 1.596H14a.5.5.0 110 1h-2.535a3.482 3.482.0 01-.662 1.596l1.793 1.793a.5.5.0 01-.707.707l-1.793-1.793a3.482 3.482.0 01-1.596.662V14a.5.5.0 11-1 0v-2.535z"/></svg></div><div class="ThemeToggle--toggle-handle-icon ThemeToggle--moon"><svg viewBox="0 0 16 16" fill="currentcolor" role="img" aria-labelledby="title-5971296394189265" xmlns="http://www.w3.org/2000/svg"><title id="title-5971296394189265">Dark theme icon (depiction of a moon)</title><path d="M7.067 3.087a5 5 0 005.466 7.026A5 5 0 117.067 3.087z"/></svg></div></label><span class=Tooltip role=tooltip position=bottom-end>Set theme to dark (⇧+D)</span></div></div></div></div></div><main class=DocsBody><div class=DocsBody--sidebar with-styled-webkit-scrollbars><div class=DocsBody--sidebar-content-scroll-fade></div><div class=DocsBody--sidebar-content><ul class=DocsTableOfContents hidden><li><a class=DocsTableOfContents-link href=#docs-content>↑ Top</a></li></ul></nav></div></div><div id=docs-content data-reach-skip-nav-content></div><div class=DocsContent id=main page-type=document><article class=DocsMarkdown><h1 id=workers-analytics-engine-sql-reference>Workers Analytics Engine SQL Reference</h1><h2 id=show-tables-statement><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#show-tables-statement>&#8203;​</a></span>
<span>SHOW TABLES statement</span></h2><p><code>SHOW TABLES</code> can be used to list the tables on your account. The table name is the name you specified as <code>dataset</code> when configuring the workers binding (refer to <a href=../get-started/#1-configure-your-dataset-and-binding-in-wrangler class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Get started with Workers Analytics Engine</span></a>, for more information). The table is automatically created when you write event data in your worker.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>TABLES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=n>FORMAT</span><span class=w> </span><span class=o>&lt;</span><span class=n>format</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><p>Refer to <a href=#format-clause class=DocsMarkdown--link><span class=DocsMarkdown--link-content>FORMAT clause</span></a> for the available <code>FORMAT</code> options.</p><h2 id=show-timezones-statement><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#show-timezones-statement>&#8203;​</a></span>
<span>SHOW TIMEZONES statement</span></h2><p><code>SHOW TIMEZONES</code> can be used to list all of the timezones supported by the SQL API. Most common timezones are supported.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>TIMEZONES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=n>FORMAT</span><span class=w> </span><span class=o>&lt;</span><span class=n>format</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><h2 id=show-timezone-statement><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#show-timezone-statement>&#8203;​</a></span>
<span>SHOW TIMEZONE statement</span></h2><p><code>SHOW TIMEZONE</code> responds with the current default timezone in use by SQL API. This should always be <code>Etc/UTC</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>TIMEZONE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=n>FORMAT</span><span class=w> </span><span class=o>&lt;</span><span class=n>format</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><h2 id=select-statement><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#select-statement>&#8203;​</a></span>
<span>SELECT statement</span></h2><p><code>SELECT</code> is used to query tables.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression_list</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;|</span><span class=p>(</span><span class=o>&lt;</span><span class=n>subquery</span><span class=o>&gt;</span><span class=p>)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>WHERE</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=p>...]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression_list</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>LIMIT</span><span class=w> </span><span class=o>&lt;</span><span class=n>n</span><span class=o>&gt;|</span><span class=k>ALL</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=n>FORMAT</span><span class=w> </span><span class=o>&lt;</span><span class=n>format</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><p>Below you can find the syntax of each clause. Refer to the <a href=../sql-api/ class=DocsMarkdown--link><span class=DocsMarkdown--link-content>SQL API docs</span></a> for some example queries.</p><h3 id=select-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#select-clause>&#8203;​</a></span>
<span>SELECT clause</span></h3><p>The <code>SELECT</code> clause specifies the list of columns to be included in the result.
Columns can be aliased using the <code>AS</code> keyword.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>AS</span><span class=w> </span><span class=o>&lt;</span><span class=k>alias</span><span class=o>&gt;</span><span class=p>],</span><span class=w> </span><span class=p>...</span><span class=w>
</span></span></span></code></pre></div><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the named columns
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=n>blob2</span><span class=p>,</span><span class=w> </span><span class=n>double3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- return all columns
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- alias columns to more descriptive names
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>blob2</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>probe_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>double3</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>temperature</span><span class=w>
</span></span></span></code></pre></div><p>Additionally, expressions using supported <a href=#supported-functions class=DocsMarkdown--link><span class=DocsMarkdown--link-content>functions</span></a> and <a href=#supported-operators class=DocsMarkdown--link><span class=DocsMarkdown--link-content>operators</span></a> can be used in place of column names:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>blob2</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>probe_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>double3</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>temp_c</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>double3</span><span class=o>*</span><span class=mi>1</span><span class=p>.</span><span class=mi>8</span><span class=o>+</span><span class=mi>32</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>temp_f</span><span class=w> </span><span class=c1>-- compute a value
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>blob2</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>probe_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>double3</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;FREEZING&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;NOT FREEZING&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>description</span><span class=w> </span><span class=c1>-- use of functions
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>blob2</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>probe_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>avg</span><span class=p>(</span><span class=n>double3</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>avg_temp</span><span class=w> </span><span class=c1>-- aggregation function
</span></span></span></code></pre></div><h3 id=from-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#from-clause>&#8203;​</a></span>
<span>FROM clause</span></h3><p><code>FROM</code> is used to specify the source of the data for the query.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=o>&lt;</span><span class=k>table_name</span><span class=o>&gt;|</span><span class=p>(</span><span class=n>subquery</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- query data written to a workers dataset called &#34;temperatures&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>FROM</span><span class=w> </span><span class=n>temperatures</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- use a subquery to manipulate the table
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>FROM</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>blob1</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>probe_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>count</span><span class=p>()</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>num_readings</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>temperatures</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>probe_name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Note that queries can only operate on a single table. <code>UNION</code>, <code>JOIN</code> etc. are not currently supported.</p><h3 id=where-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#where-clause>&#8203;​</a></span>
<span>WHERE clause</span></h3><p><code>WHERE</code> is used to filter the rows returned by a query.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=o>&lt;</span><span class=n>condition</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><p><code>&lt;condition></code> can be any expression that evaluates to a boolean.</p><p><a href=#comparison-operators class=DocsMarkdown--link><span class=DocsMarkdown--link-content>Comparison operators</span></a> can be used to compare values and <a href=#boolean-operators class=DocsMarkdown--link><span class=DocsMarkdown--link-content>boolean operators</span></a> can be used to combine conditions.</p><p>Expressions containing <a href=#supported-functions class=DocsMarkdown--link><span class=DocsMarkdown--link-content>functions</span></a> and <a href=#supported-operators class=DocsMarkdown--link><span class=DocsMarkdown--link-content>operators</span></a> are supported.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- simple comparisons
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WHERE</span><span class=w> </span><span class=n>blob1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;test&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>double1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- inequalities
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WHERE</span><span class=w> </span><span class=n>double1</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- use of operators (see below for supported operator list)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WHERE</span><span class=w> </span><span class=n>double1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>double2</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>blob1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;test1&#39;</span><span class=w> </span><span class=k>OR</span><span class=w> </span><span class=n>blob2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;test2&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- expression using inequalities, functions and operators
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>WHERE</span><span class=w> </span><span class=k>if</span><span class=p>(</span><span class=n>unit</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;f&#39;</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=n>temp</span><span class=o>-</span><span class=mi>32</span><span class=p>)</span><span class=o>/</span><span class=mi>1</span><span class=p>.</span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span></code></pre></div><h3 id=group-by-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#group-by-clause>&#8203;​</a></span>
<span>GROUP BY clause</span></h3><p>When using aggregate functions, <code>GROUP BY</code> specifies the groups over which the aggregation is run.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=p>...</span><span class=w>
</span></span></span></code></pre></div><p>For example. If you had a table of temperature readings:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the average temperature for each probe
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>blob1</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>probe_name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>avg</span><span class=p>(</span><span class=n>double1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>average_temp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>temperature_readings</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>probe_name</span><span class=w>
</span></span></span></code></pre></div><p>In the usual case the <code>&lt;expression></code> can just be a column name but it is also possible to suppy a complex expression here.
Multiple expressions or column names can be supplied separated by commas.</p><h3 id=order-by-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#order-by-clause>&#8203;​</a></span>
<span>ORDER BY clause</span></h3><p><code>ORDER BY</code> can be used to control the order in which rows are returned.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>ASC</span><span class=o>|</span><span class=k>DESC</span><span class=p>],</span><span class=w> </span><span class=p>...</span><span class=w>
</span></span></span></code></pre></div><p><code>&lt;expression></code> can just be a column name.</p><p><code>ASC</code> or <code>DESC</code> determines if the ordering is ascending or descending. <code>ASC</code> is the default, and can be omitted.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- order by double2 then double3, both in ascending order
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>double2</span><span class=p>,</span><span class=w> </span><span class=n>double3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- order by double2 in ascending order then double3 is descending order
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>double2</span><span class=p>,</span><span class=w> </span><span class=n>double3</span><span class=w> </span><span class=k>DESC</span><span class=w>
</span></span></span></code></pre></div><h3 id=limit-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#limit-clause>&#8203;​</a></span>
<span>LIMIT clause</span></h3><p><code>LIMIT</code> specifies a maximum number of rows to return.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>LIMIT</span><span class=w> </span><span class=o>&lt;</span><span class=n>n</span><span class=o>&gt;|</span><span class=k>ALL</span><span class=w>
</span></span></span></code></pre></div><p>Supply the maximum number of rows to return or <code>ALL</code> for no restriction.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>LIMIT</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=c1>-- return at most 10 rows
</span></span></span></code></pre></div><h3 id=format-clause><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#format-clause>&#8203;​</a></span>
<span>FORMAT clause</span></h3><p><code>FORMAT</code> controls how to the returned data is encoded.</p><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>FORMAT</span><span class=w> </span><span class=p>[</span><span class=n>JSON</span><span class=o>|</span><span class=n>JSONEachRow</span><span class=o>|</span><span class=n>TabSeparated</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></div><p>If no format clause is included then the default format of <code>JSON</code> will be used.</p><p>Override the default by setting a format. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>FORMAT</span><span class=w> </span><span class=n>JSONEachRow</span><span class=w>
</span></span></span></code></pre></div><p>The following formats are supported:</p><h4 id=json><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#json>&#8203;​</a></span>
<span>JSON</span></h4><p>Data is returned as a single JSON object with schema data included:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JSON data-lang=JSON><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;meta&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 1 name&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 1 type&gt;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 2 name&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 2 type&gt;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=err>...</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;data&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;&lt;column 1 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 1 value&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;&lt;column 2 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 2 value&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=err>...</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;&lt;column 1 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 1 value&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;&lt;column 2 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 2 value&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=err>...</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=err>...</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rows&#34;</span><span class=p>:</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=jsoneachrow><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#jsoneachrow>&#8203;​</a></span>
<span>JSONEachRow</span></h4><p>Data is returned with a separate JSON object per row. Rows are newline separated and there is no header line or schema data:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JSON data-lang=JSON><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;&lt;column 1 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 1 value&gt;&#34;</span><span class=p>,</span> <span class=nt>&#34;&lt;column 2 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 2 value&gt;&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;&lt;column 1 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 1 value&gt;&#34;</span><span class=p>,</span> <span class=nt>&#34;&lt;column 2 name&gt;&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;column 2 value&gt;&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>...</span>
</span></span></code></pre></div><h4 id=tabseparated><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#tabseparated>&#8203;​</a></span>
<span>TabSeparated</span></h4><p>Data is returned with newline separated rows. Columns are separated with tabs. There is no header.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>column 1 value  column 2 value
</span></span><span class=line><span class=cl>column 1 value  column 2 value
</span></span><span class=line><span class=cl>...
</span></span></code></pre></div><h2 id=supported-functions><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#supported-functions>&#8203;​</a></span>
<span>Supported functions</span></h2><aside class=DocsMarkdown--aside role=note data-type=note>Note that function names are not case-sensitive, they can be used both in uppercase or in lowercase.</aside><h3 id=count><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#count>&#8203;​</a></span>
<span>count</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>count</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>count</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=k>column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Count is an aggregation function that returns the number of rows in each group or results set.</p><p>Count can also be used to count the number of distinct (unique) values in each column:</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the total number of rows
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>count</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- return the number of different values in the column
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>count</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=k>column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=sum><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#sum>&#8203;​</a></span>
<span>sum</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>sum</span><span class=p>([</span><span class=k>DISTINCT</span><span class=p>]</span><span class=w> </span><span class=k>column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Sum is an aggregation function that returns the sum of column values across all rows in each group or results set. Sum also supports <code>DISTINCT</code>, but in this case it will only sum the unique values in the column.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the total cost of all items
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>sum</span><span class=p>(</span><span class=n>item_cost</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- return the total of all unique item costs
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>sum</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>item_cost</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=avg><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#avg>&#8203;​</a></span>
<span>avg</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>avg</span><span class=p>([</span><span class=k>DISTINCT</span><span class=p>]</span><span class=w> </span><span class=k>column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Avg is an aggregation function that returns the mean of column values across all rows in each group or results set. Avg also supports <code>DISTINCT</code>, but in this case it will only average the unique values in the column.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the mean item cost
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>avg</span><span class=p>(</span><span class=n>item_cost</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- return the mean of unique item costs
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>avg</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>item_cost</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=min><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#min>&#8203;​</a></span>
<span>min</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>min</span><span class=p>(</span><span class=k>column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Min is an aggregation function that returns the minimum value of a column across all rows.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the minimum item cost
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>min</span><span class=p>(</span><span class=n>item_cost</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=max><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#max>&#8203;​</a></span>
<span>max</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>max</span><span class=p>(</span><span class=k>column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Max is an aggregation function that returns the maximum value of a column across all rows.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- return the maximum item cost
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>max</span><span class=p>(</span><span class=n>item_cost</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=quantileweighted><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#quantileweighted>&#8203;​</a></span>
<span>quantileWeighted</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>quantileWeighted</span><span class=p>(</span><span class=n>q</span><span class=p>,</span><span class=w> </span><span class=k>column_name</span><span class=p>,</span><span class=w> </span><span class=n>weight_column_name</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p><code>quantileWeighted</code> is an aggregation function that returns the value at the q<sup>th</sup> quantile in the named column across all rows in each group or results set. Each row will be weighted by the value in <code>weight_column_name</code>. Typically this would be <code>_sample_interval</code> (refer to <a href=../sql-api/#sampling class=DocsMarkdown--link><span class=DocsMarkdown--link-content>how sampling works</span></a>, for more information).</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- estimate the median value of &lt;double1&gt;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>quantileWeighted</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=n>double1</span><span class=p>,</span><span class=w> </span><span class=n>_sample_interval</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- in a table of query times, estimate the 95th centile query time
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>quantileWeighted</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>95</span><span class=p>,</span><span class=w> </span><span class=n>query_time</span><span class=p>,</span><span class=w> </span><span class=n>_sample_interval</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=if><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#if>&#8203;​</a></span>
<span>if</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=o>&lt;</span><span class=n>condition</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=o>&lt;</span><span class=n>true_expression</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=o>&lt;</span><span class=n>false_expression</span><span class=o>&gt;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns <code>&lt;true_expression></code> if <code>&lt;condition></code> evaluates to true, else returns <code>&lt;false_expression></code>.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>temp</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;It is warm&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Bring a jumper&#39;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=intdiv><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#intdiv>&#8203;​</a></span>
<span>intDiv</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>intDiv</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Divide a by b, rounding the answer down to the nearest whole number.</p><h3 id=touint32><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#touint32>&#8203;​</a></span>
<span>toUInt32</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>toUInt32</span><span class=p>(</span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Converts any numeric expression, or expression resulting in a string representation of a decimal, into an unsigned 32 bit integer.</p><p>Behaviour for negative numbers is undefined.</p><h3 id=length><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#length>&#8203;​</a></span>
<span>length</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>length</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns the length of a string. This function is UTF-8 compatible.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>length</span><span class=p>(</span><span class=s1>&#39;a string&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=k>length</span><span class=p>(</span><span class=n>blob1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=isempty><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#isempty>&#8203;​</a></span>
<span>isEmpty</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>isEmpty</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns a boolean saying whether the string was empty. This computation can also be done as a binary operation: <code>{string} = ''</code>.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>isEmpty</span><span class=p>(</span><span class=s1>&#39;a string&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>b</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>isEmpty</span><span class=p>(</span><span class=n>blob1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=tolower><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#tolower>&#8203;​</a></span>
<span>toLower</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>toLower</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns the string converted to lowercase. This function is Unicode compatible. This may not be perfect for all languages and users with stringent needs, should do the operation in their own code.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>toLower</span><span class=p>(</span><span class=s1>&#39;STRING TO DOWNCASE&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>toLower</span><span class=p>(</span><span class=n>blob1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=toupper><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#toupper>&#8203;​</a></span>
<span>toUpper</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>toUpper</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns the string converted to uppercase. This function is Unicode compatible. The results may not be perfect for all languages and users with strict needs. These users should do the operation in their own code.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>toUpper</span><span class=p>(</span><span class=s1>&#39;string to uppercase&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>toUpper</span><span class=p>(</span><span class=n>blob1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=startswith><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#startswith>&#8203;​</a></span>
<span>startsWith</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>startsWith</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>,</span><span class=w> </span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns a boolean of whether the first string has the second string at its start.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>startsWith</span><span class=p>(</span><span class=s1>&#39;prefix ...&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;prefix&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>b</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>startsWith</span><span class=p>(</span><span class=n>blob1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;prefix&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=endswith><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#endswith>&#8203;​</a></span>
<span>endsWith</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>endsWith</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>,</span><span class=w> </span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns a boolean of whether the first string contains the second string at its end.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>endsWith</span><span class=p>(</span><span class=s1>&#39;prefix suffix&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;suffix&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>b</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=n>endsWith</span><span class=p>(</span><span class=n>blob1</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;suffix&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=position><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#position>&#8203;​</a></span>
<span>position</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>position</span><span class=p>(</span><span class=err>{</span><span class=n>needle</span><span class=p>:</span><span class=n>string</span><span class=err>}</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=err>{</span><span class=n>haystack</span><span class=p>:</span><span class=n>string</span><span class=err>}</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>Returns the position of one string, <code>needle</code>, in another, <code>haystack</code>. In SQL, indexes are usually 1-based. That means that position returns <code>1</code> if your needle is at the start of the haystack. It only returns <code>0</code> if your string is not found.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>position</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=s1>&#39;hello: world&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>p</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=k>position</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=n>blob1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=substring><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#substring>&#8203;​</a></span>
<span>substring</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>substring</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>,</span><span class=w> </span><span class=err>{</span><span class=k>offset</span><span class=p>:</span><span class=nb>integer</span><span class=err>}</span><span class=p>[.</span><span class=w> </span><span class=err>{</span><span class=k>length</span><span class=p>:</span><span class=nb>integer</span><span class=err>}</span><span class=p>])</span><span class=w>
</span></span></span></code></pre></div><p>Extracts part of a string, starting at the Unicode code point indicated by the offset and returning the number of code points requested by the length. As previously mentioned, in SQL, indexes are usually 1-based. That means that the offset provided to substring should be at least <code>1</code>.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>substring</span><span class=p>(</span><span class=s1>&#39;hello world&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=k>substring</span><span class=p>(</span><span class=s1>&#39;hello: world&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=k>position</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=w> </span><span class=k>IN</span><span class=w> </span><span class=s1>&#39;hello: world&#39;</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=format><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#format>&#8203;​</a></span>
<span>format</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>format</span><span class=p>(</span><span class=err>{</span><span class=n>string</span><span class=err>}</span><span class=p>[,</span><span class=w> </span><span class=p>...])</span><span class=w>
</span></span></span></code></pre></div><p>This function supports formatting strings, integers, floats, datetimes, intervals, etc, except <code>NULL</code>. The function does not support literal <code>{</code> and <code>}</code> characters in the format string.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>format</span><span class=p>(</span><span class=s1>&#39;blob1: {}&#39;</span><span class=p>,</span><span class=w> </span><span class=n>blob1</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>dataset</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>See also: <a href=#formatdatetime class=DocsMarkdown--link><span class=DocsMarkdown--link-content>formatDateTime</span></a></p><h3 id=todatetime><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#todatetime>&#8203;​</a></span>
<span>toDateTime</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>toDateTime</span><span class=p>(</span><span class=o>&lt;</span><span class=n>expression</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=s1>&#39;timezone string&#39;</span><span class=p>])</span><span class=w>
</span></span></span></code></pre></div><p><code>toDateTime</code> converts an expression to a datetime. This function does not support ISO 8601-style timezones; if your time is not in UTC then you must provide the timezone using the second optional argument.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- double1 contains a unix timestamp in seconds
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toDateTime</span><span class=p>(</span><span class=n>double1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- blob1 contains an datetime in the format &#39;YYYY-MM-DD hh:mm:ss&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toDateTime</span><span class=p>(</span><span class=n>blob1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- literal values:
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toDateTime</span><span class=p>(</span><span class=mi>355924804</span><span class=p>)</span><span class=w> </span><span class=c1>-- unix timestamp
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;355924804&#39;</span><span class=p>)</span><span class=w> </span><span class=c1>-- string containing unix timestamp
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;1981-04-12 12:00:04&#39;</span><span class=p>)</span><span class=w> </span><span class=c1>-- string with datetime in &#39;YYYY-MM-DD hh:mm:ss&#39; format
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- interpret a date relative to New York time
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2022-12-01 16:17:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;America/New_York&#39;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=now><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#now>&#8203;​</a></span>
<span>now</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>now</span><span class=p>()</span><span class=w>
</span></span></span></code></pre></div><p>Returns the current time as a DateTime.</p><h3 id=tounixtimestamp><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#tounixtimestamp>&#8203;​</a></span>
<span>toUnixTimestamp</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>toUnixTimestamp</span><span class=p>(</span><span class=o>&lt;</span><span class=n>datetime</span><span class=o>&gt;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p><code>toUnixTimestamp</code> converts a datetime into an integer unix timestamp.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- get the current unix timestamp
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toUnixTimestamp</span><span class=p>(</span><span class=n>now</span><span class=p>())</span><span class=w>
</span></span></span></code></pre></div><h3 id=formatdatetime><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#formatdatetime>&#8203;​</a></span>
<span>formatDateTime</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>formatDateTime</span><span class=p>(</span><span class=o>&lt;</span><span class=n>datetime</span><span class=w> </span><span class=n>expression</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=o>&lt;</span><span class=n>format</span><span class=w> </span><span class=n>string</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=o>&lt;</span><span class=n>timezone</span><span class=w> </span><span class=n>string</span><span class=o>&gt;</span><span class=p>])</span><span class=w>
</span></span></span></code></pre></div><p><code>formatDateTime</code> prints a datetime as a string according to a provided format string. See
<a href=https://clickhouse.com/docs/en/sql-reference/functions/date-time-functions/#formatdatetime class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>ClickHouse&rsquo;s docs</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a>
for a list of supported formatting options.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- prints the current YYYY-MM-DD in UTC
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>formatDateTime</span><span class=p>(</span><span class=n>now</span><span class=p>(),</span><span class=w> </span><span class=s1>&#39;%Y-%m-%d&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- prints YYYY-MM-DD in the datetime&#39;s timezone
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>formatDateTime</span><span class=p>(</span><span class=o>&lt;</span><span class=n>a</span><span class=w> </span><span class=n>datetime</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>timezone</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;%Y-%m-%d&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>formatDateTime</span><span class=p>(</span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2022-12-01 16:17:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;America/New_York&#39;</span><span class=p>),</span><span class=w> </span><span class=s1>&#39;%Y-%m-%d&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- prints YYYY-MM-DD in UTC
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>formatDateTime</span><span class=p>(</span><span class=o>&lt;</span><span class=n>a</span><span class=w> </span><span class=n>datetime</span><span class=w> </span><span class=k>with</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>timezone</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;%Y-%m-%d&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Etc/UTC&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>formatDateTime</span><span class=p>(</span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2022-12-01 16:17:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;America/New_York&#39;</span><span class=p>),</span><span class=w> </span><span class=s1>&#39;%Y-%m-%d&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Etc/UTC&#39;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h3 id=tostartofinterval><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#tostartofinterval>&#8203;​</a></span>
<span>toStartOfInterval</span></h3><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=n>toStartOfInterval</span><span class=p>(</span><span class=o>&lt;</span><span class=n>datetime</span><span class=o>&gt;</span><span class=p>,</span><span class=w> </span><span class=nb>INTERVAL</span><span class=w> </span><span class=s1>&#39;&lt;n&gt;&#39;</span><span class=w> </span><span class=o>&lt;</span><span class=n>unit</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=o>&lt;</span><span class=n>timezone</span><span class=w> </span><span class=n>string</span><span class=o>&gt;</span><span class=p>])</span><span class=w>
</span></span></span></code></pre></div><p><code>toStartOfInterval</code> rounds down a datetime to the nearest offset of a provided interval. This can
be useful for grouping data into equal-sized time ranges.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- round the current time down to the nearest 15 minutes
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toStartOfInterval</span><span class=p>(</span><span class=n>now</span><span class=p>(),</span><span class=w> </span><span class=nb>INTERVAL</span><span class=w> </span><span class=s1>&#39;15&#39;</span><span class=w> </span><span class=k>MINUTE</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- round a timestamp down to the day
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>toStartOfInterval</span><span class=p>(</span><span class=k>timestamp</span><span class=p>,</span><span class=w> </span><span class=nb>INTERVAL</span><span class=w> </span><span class=s1>&#39;1&#39;</span><span class=w> </span><span class=k>DAY</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- count the number of datapoints filed in each hourly window
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>toStartOfInterval</span><span class=p>(</span><span class=k>timestamp</span><span class=p>,</span><span class=w> </span><span class=nb>INTERVAL</span><span class=w> </span><span class=s1>&#39;1&#39;</span><span class=w> </span><span class=n>HOUR</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>hour</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>sum</span><span class=p>(</span><span class=n>_sample_interval</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=k>count</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>your_dataset</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>hour</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>hour</span><span class=w> </span><span class=k>ASC</span><span class=w>
</span></span></span></code></pre></div><h2 id=extract><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#extract>&#8203;​</a></span>
<span>extract</span></h2><p>Usage:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>extract</span><span class=p>(</span><span class=o>&lt;</span><span class=n>time</span><span class=w> </span><span class=n>unit</span><span class=o>&gt;</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=o>&lt;</span><span class=n>datetime</span><span class=o>&gt;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p><code>extract</code> returns an integer number of time units from a datetime. It supports
<code>YEAR</code>, <code>MONTH</code>, <code>DAY</code>, <code>HOUR</code>, <code>MINUTE</code> and <code>SECOND</code>.</p><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=c1>-- extract the number of seconds from a timestamp (returns 15 in this example)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>extract</span><span class=p>(</span><span class=k>SECOND</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2022-06-06 11:30:15&#39;</span><span class=p>))</span><span class=w>
</span></span></span></code></pre></div><h2 id=supported-operators><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#supported-operators>&#8203;​</a></span>
<span>Supported operators</span></h2><p>The following operators are supported:</p><h3 id=arithmetic-operators><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#arithmetic-operators>&#8203;​</a></span>
<span>Arithmetic operators</span></h3><div class=DocsMarkdown--table-wrap><div class=DocsMarkdown--table-wrap-inner><table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code>+</code></td><td>addition</td></tr><tr><td><code>-</code></td><td>subtraction</td></tr><tr><td><code>*</code></td><td>multiplication</td></tr><tr><td><code>/</code></td><td>division</td></tr><tr><td><code>%</code></td><td>modulus</td></tr></tbody></table></div></div><h3 id=comparison-operators><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#comparison-operators>&#8203;​</a></span>
<span>Comparison operators</span></h3><div class=DocsMarkdown--table-wrap><div class=DocsMarkdown--table-wrap-inner><table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code>=</code></td><td>equals</td></tr><tr><td><code>&lt;</code></td><td>less than</td></tr><tr><td><code>></code></td><td>greater than</td></tr><tr><td><code>&lt;=</code></td><td>less than or equal to</td></tr><tr><td><code>>=</code></td><td>greater than or equal to</td></tr><tr><td><code>&lt;></code> or <code>!=</code></td><td>not equal</td></tr><tr><td><code>IN</code></td><td>true if the preceding expression&rsquo;s value is in the list<br><code>column IN ('a', 'list', 'of', 'values')</code></td></tr><tr><td><code>NOT IN</code></td><td>true if the preceding expression&rsquo;s value is not in the list<br><code>column NOT IN ('a', 'list', 'of', 'values')</code></td></tr></tbody></table></div></div><p>We also support the <code>BETWEEN</code> operator for checking a value is in an inclusive range: <code>a [NOT] BETWEEN b AND c</code>.</p><h3 id=boolean-operators><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#boolean-operators>&#8203;​</a></span>
<span>Boolean operators</span></h3><div class=DocsMarkdown--table-wrap><div class=DocsMarkdown--table-wrap-inner><table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code>AND</code></td><td>boolean &ldquo;AND&rdquo; (true if both sides are true)</td></tr><tr><td><code>OR</code></td><td>boolean &ldquo;OR&rdquo; (true if either side or both sides are true)</td></tr><tr><td><code>NOT</code></td><td>boolean &ldquo;NOT&rdquo; (true if following expression is false and visa-versa)</td></tr></tbody></table></div></div><h3 id=unary-operators><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#unary-operators>&#8203;​</a></span>
<span>Unary operators</span></h3><div class=DocsMarkdown--table-wrap><div class=DocsMarkdown--table-wrap-inner><table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code>-</code></td><td>negation operator (e.g. <code>-42</code>)</td></tr></tbody></table></div></div><h2 id=literals><span class=DocsMarkdown--header-anchor-positioner><a class="DocsMarkdown--header-anchor Link Link-without-underline" href=#literals>&#8203;​</a></span>
<span>Literals</span></h2><div class=DocsMarkdown--table-wrap><div class=DocsMarkdown--table-wrap-inner><table><thead><tr><th>Type</th><th>Syntax</th></tr></thead><tbody><tr><td>integer</td><td><code>42</code>, <code>-42</code></td></tr><tr><td>double</td><td><code>4.2</code>, <code>-4.2</code></td></tr><tr><td>string</td><td><code>'so long and thanks for all the fish'</code></td></tr><tr><td>boolean</td><td><code>true</code> or <code>false</code></td></tr><tr><td>time interval</td><td><code>INTERVAL '42' DAY</code><br>Intervals of <code>YEAR</code>, <code>MONTH</code>, <code>DAY</code>, <code>HOUR</code>, <code>MINUTE</code> and <code>SECOND</code> are supported</td></tr></tbody></table></div></div></article></div></main><footer class=DocsFooter><div class=DocsFooter--content><div class=DocsFooterResources><span class=DocsFooter--content-additional-wrapper><a href=https://dash.cloudflare.com class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Cloudflare Dashboard</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://community.cloudflare.com class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Community</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href=https://www.cloudflare.com/learning/ class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Learning Center</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-additional-wrapper><a href="https://dash.cloudflare.com/?to=/:account/support" class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Support Portal</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span></div><div><span class=DocsFooter--edit-on-gh-link-wrapper><a href=https://github.com/panthere2k/cf-docs/blob/main/content/analytics/analytics-engine/sql-reference.md class=DocsMarkdown--link target=_blank rel=noopener><span class=DocsMarkdown--link-content>Edit on GitHub</span><span class=DocsMarkdown--link-external-icon aria-hidden=true><svg fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg"><title id="title-4744738674102027">External link icon</title><path d="M6.75 1.75h-5v12.5h12.5v-5m0-4v-3.5h-3.5M8 8l5.5-5.5"/></svg>
<span is-visually-hidden>Open external link</span></span></a></span>
<span class=DocsFooter--content-dot-spacer>&nbsp; · &nbsp;</span>
<span class=DocsFooter--content-time>Updated <time class=relative datetime=2023-01-02T09:58:19+09:00 title=2023-01-02>January 2, 2023</time></span></div></div></footer></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PKQFGQB" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-PKQFGQB")</script><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=preload href=https://unpkg.com/littlefoot/dist/littlefoot.css as=style></noscript><script defer src=https://unpkg.com/littlefoot/dist/littlefoot.js type=application/javascript></script>
<script type=application/javascript>document.addEventListener("DOMContentLoaded",()=>littlefoot.default())</script></body></html>
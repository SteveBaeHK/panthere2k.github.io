(()=>{(function(){let o=document.currentScript,t=document.querySelector.bind(document),e,a=o&&o.dataset,{org:n,token:s}=a||{};function i(){let e=document.referrer.match("(?:developers.cloudflare.com|docs.cloudflare.com|cloudflare-docs-7ou.pages.dev)(/.+?/)");if(e!==null)return e[1]}function r(){let o=t("#DocsSearch--input")||t("#SiteSearch--input"),i=function(t){__extends(n,e.Component);function n(s,o,i){t.call(this,s,n.ID,i),this.type="CustomSearchBox",e.Component.bindComponentToElement(s,this),this.element=s,this.options=e.ComponentOptions.initComponentOptions(s,n,o),this.bindings=i,this.element.addEventListener("keyup",e=>this.handleKeyUp(e))}n.prototype.handleKeyUp=function(e){this.options.searchAsYouType?this.executeNewQuery():e.key=="Enter"&&this.executeNewQuery()},n.prototype.executeNewQuery=function(){this.bindings.queryStateModel.set("q",this.element.value),this.bindings.queryController.executeQuery()},n.options={searchAsYouType:e.ComponentOptions.buildBooleanOption({defaultValue:!1})},n.ID="CustomSearchBox",e.Initialization.registerAutoCreateComponent(n)}(e.Component);e.SearchEndpoint.configureCloudV2Endpoint(n,s),e.initSearchbox(t(".CoveoSearchInterface"),"/search"),addEventListener("keydown",e=>{if(e.target===o)return;let t=e.which;(t===191||e.shiftKey&&t===83)&&(e.preventDefault(),window.scrollTo(0,0),o.focus())})}function c(){e.SearchEndpoint.configureCloudV2Endpoint(n,s);let t=document.getElementById("searchresults");e.init(t),e.$$(t).on("afterInitialization",()=>{let o=e.$$(t).find(".CoveoPipelineContext");o=e.get(o),o.setContextValue("referrer",i())}),e.$$(t).on("changeAnalyticsCustomData",(e,t)=>{(t.type==="ClickEvent"||t.type==="CustomEvent")&&(t.metaObject.context_referrer=i())});function o(e){let t=document.querySelector("span.coveo-search-button"),n=document.querySelector("span.coveo-search-button-loading");t.style.display=e?"none":"",n.style.display=e?"":"none"}e.$$(t).on("newQuery",()=>o(!0)),e.$$(t).on("newResultsDisplayed",()=>o(!1))}(function t(){!n||!s||((e=window.Lunr)?location.pathname.startsWith("/search")?c():r():setTimeout(t,25))})()})()})()